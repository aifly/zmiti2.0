(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{263:function(t,i,a){var e=a(264);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a(6).default)("00f7c922",e,!1,{})},264:function(t,i,a){(t.exports=a(4)()).push([t.i,'\n.zmiti-tripost-main-ui[data-v-ef2da606]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-tripost-main-ui .zmiti-cy-tag[data-v-ef2da606]{color:red\n}\n.zmiti-tripost-main-ui .zmiti-avatar-list[data-v-ef2da606]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-tripost-main-ui .zmiti-avatar-list span[data-v-ef2da606]{font-size:40px;margin-right:20px;cursor:pointer\n}\n.zmiti-tripost-main-ui .zmiti-avatar-list span.active[data-v-ef2da606]{color:#3390ff\n}\n.zmiti-tripost-main-ui .ivu-table-wrapper[data-v-ef2da606]{border-bottom:none;border-right:none\n}\n.zmiti-tripost-main-ui .zmiti-list-main[data-v-ef2da606]{box-sizing:border-box;background:#fff;margin:0 auto;flex:2;-webkit-flex:2;position:relative;top:5px;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-tripost-main-ui .zmiti-list-main[data-v-ef2da606]:before{content:"";position:absolute;width:100%;height:100%;left:0;top:0;box-shadow:0 0 0 1px #ccc\n}\n.zmiti-tripost-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-ef2da606]{z-index:100\n}\n.zmiti-tripost-main-ui .zmiti-list-main>div[data-v-ef2da606]{margin:10px auto 10px;position:relative;flex:1;-webkit-flex:1\n}\n.zmiti-tripost-main-ui .zmiti-list-main>div .zmiti-meet-form[data-v-ef2da606]{width:100%;margin:0px auto;padding:20px 40px;height:600px;overflow:auto\n}\n.zmiti-tripost-main-ui .zmiti-list-main .zmiti-list-where[data-v-ef2da606]{width:98%;margin:10px auto 0;height:40px;line-height:40px;font-size:14px;position:relative;z-index:10\n}\n.zmiti-tripost-main-ui .zmiti-list-main .zmiti-list-where input[data-v-ef2da606]{height:30px\n}\n.zmiti-tripost-main-ui .zmiti-list-main .zmiti-submit-main[data-v-ef2da606]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-tripost-main-ui .zmiti-list-main .zmiti-submit-main>div[data-v-ef2da606]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-tripost-main-ui .zmiti-list-main .zmiti-submit-main .zmiti-submit-table[data-v-ef2da606]{width:98%;margin:0 auto\n}\n.zmiti-tripost-main-ui .lt-full[data-v-ef2da606]{position:fixed !important;background:rgba(0,0,0,0.5);z-index:1001;overflow:hidden\n}\n.zmiti-tripost-main-ui .lt-full .zmiti-left-pannel[data-v-ef2da606]{position:absolute;width:100%;height:100px;left:0;top:0;z-index:10\n}\n.zmiti-tripost-main-ui .zmiti-add-form[data-v-ef2da606]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-safe-content[data-v-ef2da606]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-safe-content>div[data-v-ef2da606]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-safe-content>div[data-v-ef2da606]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-safe-content>div[data-v-ef2da606]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-tripost-main-ui .zmiti-add-form.detail-enter-active[data-v-ef2da606],.zmiti-tripost-main-ui .zmiti-add-form.detail-leave-active[data-v-ef2da606]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-tripost-main-ui .zmiti-add-form.detail-enter[data-v-ef2da606],.zmiti-tripost-main-ui .zmiti-add-form.detail-leave-to[data-v-ef2da606]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-submit-avatar[data-v-ef2da606]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-submit-avatar label[data-v-ef2da606]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-submit-avatar span[data-v-ef2da606]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-add-form-C[data-v-ef2da606]{margin:10px auto 2px;width:90%\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-add-form-item[data-v-ef2da606]{line-height:50px;height:50px\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-ef2da606]{text-align:center;position:relative;z-index:10\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-ef2da606]{margin:0 20px;padding:2px 20px\n}\n.zmiti-tripost-main-ui .zmiti-add-form .zmiti-add-form-item input[data-v-ef2da606]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n.ivu-icon-ios-help-circle[data-v-ef2da606]{left:25px\n}\n.ivu-radio-inner[data-v-ef2da606]:after{border-radius:10px !important\n}\n.zmiti-add-form[data-v-ef2da606]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-add-form .zmiti-safe-content[data-v-ef2da606]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-ef2da606]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-ef2da606]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-ef2da606]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-add-form.detail-enter-active[data-v-ef2da606],.zmiti-add-form.detail-leave-active[data-v-ef2da606]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-add-form.detail-enter[data-v-ef2da606],.zmiti-add-form.detail-leave-to[data-v-ef2da606]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-add-form .zmiti-admin-avatar[data-v-ef2da606]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-add-form .zmiti-admin-avatar label[data-v-ef2da606]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-add-form .zmiti-admin-avatar span[data-v-ef2da606]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-add-form .zmiti-add-form-C[data-v-ef2da606]{margin:10px auto 2px;width:90%;position:relative\n}\n.zmiti-add-form .zmiti-add-form-C .zmiti-hidepass[data-v-ef2da606]{position:absolute;top:0;height:40px;width:100%;left:0;opacity:0\n}\n.zmiti-add-form .zmiti-add-form-item[data-v-ef2da606]{line-height:50px;height:50px\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-ef2da606]{text-align:center;position:relative;z-index:10\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-ef2da606]{margin:0 20px;padding:2px 20px\n}\n.zmiti-add-form .zmiti-add-form-item input[data-v-ef2da606]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n',""])},39:function(t,i,a){"use strict";a.d(i,"c",(function(){return f})),a.d(i,"h",(function(){return e})),a.d(i,"e",(function(){return o})),a.d(i,"a",(function(){return d})),a.d(i,"b",(function(){return s})),a.d(i,"d",(function(){return m})),a.d(i,"g",(function(){return l})),a.d(i,"f",(function(){return n}));var e={0:"财务类",1:"会员账号",2:"定制服务类",3:"产品技术类",4:"其它类"};let n={0:{status:"女"},1:{status:"男"}},o={0:{status:"已禁用"},1:{status:"已受理"},2:{status:"已处理"},3:{status:"已确认"},4:{status:"已评价"}},r=[{name:"全部",type:-1},{name:"图片",type:0},{name:"视频",type:1},{name:"音频",type:2},{name:"文本",type:3}],d=(t=3)=>[{name:"系统",icon:"&#xe611;",id:1},{name:"单位",icon:"&#xe612;",id:2},{name:"个人",icon:"&#xe613;",id:t,cateList:r.concat([])}],s={pdf:"&#xe665;",xls:"&#xe614;",xlsx:"&#xe614;",mp3:"&#xe7df;",ogg:"&#xe7df;",m4a:"&#xe7df;",doc:"&#xe63c;",docx:"&#xe63c;",mp4:"&#xe601;",webm:"&#xe601;",mov:"&#xe601;",flv:"&#xe601;",other:"&#xe606;"},m=[{name:"待审核",icon:"&#xe6bc;",color:"#fbec00"},{name:"审核通过",icon:"&#xe61b;",color:"#45b203"},{name:"拒绝",icon:"&#xe61e;",color:"#ff4664"},{name:"暂缓",icon:"&#xe61f;",color:"#ffce01"}],l=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30"],f=["resourcelist","workorder","workorderlist","home","myself"]},736:function(t,i,a){"use strict";a.r(i);var e=a(0),n=a(2),o=a(10),r=a(9),{companyActions:d,zmitiActions:s,tripActions:m,formatDate:l}=(a(39),n.a),f={props:["obserable"],name:"zmitiindex",data(){return{targetKeys:[],showAvatarModal:!1,companyname:n.a.getCurrentCompanyId().companyname,roleList:[],imgs:window.imgs,isLoading:!1,showDetail:!1,total:0,showDetailPage:-1,currentClassId:-1,adminuserId:"",loading:!0,jobLevel:["普通职称","中级职称","高级职称"],currentUserid:"",formObj:{jobid:"",transportid:""},address:"",showPass:!1,showMap:!1,viewH:window.innerHeight,viewW:window.innerWidth,dataSource:[],groupList:[],companyList:[],hideMenu:!1,unJoinedCompany:[],columns:[{title:"交通工具",key:"transportlevel",align:"center"},{title:"职务名称",key:"jobname",align:"center"},{title:"职务级别",key:"level",align:"center",render:(t,i)=>t("div",{},this.jobLevel[i.row.level-1])},{title:"创建时间",key:"createtime",align:"center",render:(t,i)=>t("div",{},i.row.createtime)},{title:"操作",key:"action",align:"center",width:200,render:(t,i)=>t("div",[t("Poptip",{props:{confirm:!0,title:"确定要删除吗？",placement:"left"},on:{"on-ok":()=>{this.delete(i.row.traffic)}}},[t("span",{props:{type:"error",size:"small"},style:{cursor:"pointer",color:"#06C"},on:{click:()=>{}}},"删除")]),t("span",{style:{cursor:"pointer",color:"rgb(0, 102, 204)",marginLeft:"10px"},on:{click:()=>{this.formObj=i.row,e.default.obserable.trigger({type:"toggleMask",data:!0})}}},"详情")])}],directoryList:{},condition:{page_index:0,page_size:10},transport:[],tripost:[],userinfo:{},selectList:[]}},components:{ZmitiMask:o.a,ZmitiTable:r.a},beforeCreate(){},mounted(){window.s=this,n.a.getUserInfo()||this.$router.push({path:"/login"}),this.getDataList(),this.getJobData()},watch:{$route:{handler(){var t=this.productid;t&&this.$router.push({path:"/triptraffic/"+t})}}},methods:{getJobData(){var t=this;t.loading=!0;var i=setInterval(()=>{var a=this.$route.params.id;if(e.default.productList){clearInterval(i),a||e.default.productList.forEach(i=>{t.$route.name.indexOf(i.producturl.substr(1))>-1&&(a=i.productid)}),this.productid=a;var{condition:o}=this;o=Object.assign(o,{companyid:n.a.getCurrentCompanyId().companyid,productid:a}),n.a.ajax({remark:"getJobList",data:{action:m.getJobList.action,condition:o},success(i){t.loading=!1,0===i.getret&&(t.total=i.total,t.tripost=i.list)}})}},100)},getbaseData(t){var i=this;n.a.ajax({remark:"getTrafficbase",data:{action:m.getTrafficbase.action,condition:{companyid:n.a.getCurrentCompanyId().companyid,productid:t}},success(t){0===t.getret&&(i.transport=t.list)}})},closeMaskPage(){e.default.obserable.trigger({type:"toggleMask",data:!1})},add(){this.formObj={},e.default.obserable.trigger({type:"toggleMask",data:!0})},adminAction(){var t=this,i=this.formObj.traffic?m.editTraffic.action:m.addTraffic.action;let a={productid:t.productid,jobid:this.formObj.jobid,transportid:this.formObj.transportid,companyid:n.a.getCurrentCompanyId().companyid};this.formObj.traffic&&(a.traffic=this.formObj.traffic),n.a.ajax({remark:this.formObj.traffic?"editTraffic":"addTraffic",data:{action:i,info:a},success(i){t.$Message[0===i.getret?"success":"error"](i.msg||i.getmsg),t.closeMaskPage(),0===i.getret&&t.getDataList()}})},change(t){this.condition.page_index=t-1,this.getDataList()},delete(t){var i=this;n.a.ajax({remark:"delTraffic",data:{action:m.delTraffic.action,condition:{traffic:t,companyid:n.a.getCurrentCompanyId().companyid,productid:i.productid}},success(t){i.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),0===t.getret&&i.getDataList()}})},change(t){this.condition.page_index=t-1,this.getDataList()},getDataList(){var t=this;t.loading=!0;var i=setInterval(()=>{var a=this.$route.params.id;if(e.default.productList){clearInterval(i),a||e.default.productList.forEach(i=>{t.$route.name.indexOf(i.producturl.substr(1))>-1&&(a=i.productid)}),this.$router.push({path:"/triptraffic/"+a}),this.productid=a,this.getbaseData(a);var{condition:o}=this;o=Object.assign(o,{companyid:n.a.getCurrentCompanyId().companyid,productid:a}),n.a.ajax({remark:"getTrafficlist",data:{action:m.getTrafficlist.action,condition:o},error(){t.loading=!1},success(i){t.loading=!1,0===i.getret&&(t.total=i.total,t.dataSource=i.list)}})}},100)},getSelection(t){this.selectList=t},selectionDelete(){if(this.selectList.length<=0)this.$Message.error({content:"您还未选择任何要删除的项",duration:5});else{console.log(this.selectList,"data-select");var t=this.selectList.map(t=>t.jobid).join(",");console.log(t,"jobid-jobid"),this.delete(t)}}}},c=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"zmiti-tripost-main-ui"},[a("div",{staticClass:"zmiti-list-main"},[a("header",{staticClass:"zmiti-tab-header"},[a("div",[t.companyname?a("span"):t._e(),t._v("交通工具-"+t._s(t.companyname))]),t._v(" "),a("div",[a("Button",{attrs:{loading:t.loading,type:"primary"},on:{click:function(i){return t.getDataList()}}},[t._v("刷新")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(i){return t.add()}}},[t._v("添加")])],1)]),t._v(" "),a("div",{staticClass:"zmiti-submit-main zmiti-scroll ",style:{height:t.viewH-130+"px"}},[a("ZmitiTable",{attrs:{loading:t.loading,dataSource:t.dataSource,columns:t.columns,change:t.change,"page-size":t.condition.page_size,total:t.total},on:{getSelection:t.getSelection}})],1)]),t._v(" "),a("ZmitiMask",{on:{closeMaskPage:t.closeMaskPage},model:{value:t.showDetailPage,callback:function(i){t.showDetailPage=i},expression:"showDetailPage"}},[a("div",{attrs:{slot:"mask-content"},slot:"mask-content"},[a("transition",{attrs:{name:"detail"}},[a("section",{staticClass:"zmiti-add-form zmiti-scroll"},[a("header",{staticClass:"zmiti-add-header"},[a("img",{attrs:{src:t.imgs.back,alt:""},on:{click:t.closeMaskPage}}),t._v(" "),a("span",[t._v("基础信息")])]),t._v(" "),a("Form",{staticClass:"zmiti-add-form-C",attrs:{model:t.formObj,"label-width":80}},[a("FormItem",{attrs:{label:"交通工具："}},[a("Select",{model:{value:t.formObj.transportid,callback:function(i){t.$set(t.formObj,"transportid",i)},expression:"formObj.transportid"}},t._l(t.transport,(function(i,e){return a("Option",{key:e,attrs:{value:i.transportid,lable:i.transportid}},[t._v(t._s(i.transportname+"-"+i.transportlevel))])})),1)],1),t._v(" "),a("FormItem",{attrs:{label:"职务级别："}},[a("Select",{model:{value:t.formObj.jobid,callback:function(i){t.$set(t.formObj,"jobid",i)},expression:"formObj.jobid"}},t._l(t.tripost,(function(i,e){return a("Option",{key:e,attrs:{value:i.jobid,lable:i.jobid}},[t._v(t._s(i.jobname))])})),1)],1)],1),t._v(" "),a("div",{staticClass:"zmiti-add-form-item zmiti-add-btns"},[a("Button",{attrs:{size:"large",type:"primary"},on:{click:t.adminAction}},[t._v(t._s(t.formObj.jobid?"保存":"确定"))])],1)],1)])],1)])],1)};c._withStripped=!0;var p=a(3),u=!1;var g=function(t){u||a(263)},x=Object(p.a)(f,c,[],!1,g,"data-v-ef2da606",null);x.options.__file="components\\tripexpence\\triptraffic\\index.vue";i.default=x.exports}}]);