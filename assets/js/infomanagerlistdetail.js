(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{648:function(i,t,n){var r=n(649);"string"==typeof r&&(r=[[i.i,r,""]]),r.locals&&(i.exports=r.locals);(0,n(6).default)("0d9e12ec",r,!1,{})},649:function(i,t,n){(i.exports=n(4)()).push([i.i,"\n.ql-container{min-height: 200px;\n}\n.ql-snow{line-height: 24px!important;\n}\n.edit_container{background: #ffffff;\n}\n",""])},650:function(i,t,n){var r=n(651);"string"==typeof r&&(r=[[i.i,r,""]]),r.locals&&(i.exports=r.locals);(0,n(6).default)("67ac0e63",r,!1,{})},651:function(i,t,n){(t=i.exports=n(4)()).i(n(652),""),t.push([i.i,"\n",""])},652:function(i,t,n){(i.exports=n(4)()).push([i.i,".zmiti-informanagerdetail-main-ui {\r\n  background: #f2f2f2;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 99%;\r\n  margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-list-main {\r\n    box-sizing: border-box;\r\n    background: #fff;\r\n    margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-list-where {\r\n    font-size: 14px;\r\n    width: 98%;\r\n    margin: 0 auto 10px auto;\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    flex-flow: row; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-list-where .zmiti-search-dates {\r\n      margin: 0 10px; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-search-icon {\r\n    font-size: 20px;\r\n    cursor: pointer; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-tabs-select {\r\n    width: 98%;\r\n    margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-submit-main {\r\n    margin-top: 10px;\r\n    flex: 5;\r\n    -webkit-flex: 5;\r\n    width: 100%; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-submit-main > div {\r\n      -webkit-transition: 0.3s;\r\n      transition: 0.3s; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-submit-main .zmiti-submit-table {\r\n      width: 98%;\r\n      margin: 0 auto; }\r\n\r\n.zmiti-add-form {\r\n  flex: 1;\r\n  -webkit-flex: 1;\r\n  width: 500px;\r\n  overflow: auto;\r\n  position: absolute !important;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  height: 100%;\r\n  position: relative;\r\n  box-shadow: 0 0 0 1px #ccc;\r\n  box-sizing: border-box;\r\n  background: #f9f9f9; }\r\n  .zmiti-add-form .zmiti-safe-content {\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    flex-flow: row;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    margin-top: 30px;\r\n    justify-content: space-around;\r\n    -webkit-justify-content: space-around;\r\n    border: 1px dashed #ccc;\r\n    padding: 10px 0; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(1) {\r\n      text-align: center;\r\n      width: 120px;\r\n      font-weight: bold; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(2) {\r\n      flex: 1;\r\n      -webkit-flex: 1; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(3) {\r\n      width: 80px;\r\n      cursor: pointer;\r\n      text-align: center;\r\n      color: #0066cc; }\r\n  .zmiti-add-form.detail-enter-active, .zmiti-add-form.detail-leave-active {\r\n    -webkit-transition: 0.2s;\r\n    transition: 0.2s; }\r\n  .zmiti-add-form.detail-enter, .zmiti-add-form.detail-leave-to {\r\n    -webkit-transform: translateX(100%);\r\n    transform: translateX(100%); }\r\n  .zmiti-add-form .zmiti-submit-avatar {\r\n    background: rgba(51, 144, 255, 0.1);\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    width: 80px;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    margin: 0 auto 30px;\r\n    cursor: pointer;\r\n    position: relative; }\r\n    .zmiti-add-form .zmiti-submit-avatar label {\r\n      position: absolute;\r\n      bottom: -50px;\r\n      font-size: 12px;\r\n      width: 100%;\r\n      text-align: center;\r\n      left: 0; }\r\n    .zmiti-add-form .zmiti-submit-avatar span {\r\n      font-size: 40px;\r\n      color: rgba(51, 144, 255, 0.8); }\r\n  .zmiti-add-form .zmiti-add-form-C {\r\n    margin: 10px auto 2px;\r\n    width: 90%; }\r\n  .zmiti-add-form .zmiti-add-form-item {\r\n    line-height: 50px;\r\n    height: 50px; }\r\n    .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns {\r\n      text-align: center;\r\n      position: relative;\r\n      z-index: 10; }\r\n      .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button {\r\n        margin: 0 20px;\r\n        padding: 2px 20px; }\r\n    .zmiti-add-form .zmiti-add-form-item input {\r\n      padding-left: 6px;\r\n      height: 32px;\r\n      width: 70%;\r\n      border: 1px solid #d8d8d8;\r\n      outline: none; }\r\n\r\n.zmiti-inforuserlist-select ul {\r\n  display: flex;\r\n  display: -webkit-flex;\r\n  flex-flow: row;\r\n  flex-wrap: wrap; }\r\n  .zmiti-inforuserlist-select ul li {\r\n    width: 120px; }\r\n\r\n.zmiti-select-column {\r\n  padding: 10px; }\r\n\r\n.zmiti-informanagerdetail-form {\r\n  padding: 20px; }\r\n\r\n.zmiti-scroll {\r\n  overflow: auto; }\r\n\r\n.zmiti-remove-icon {\r\n  cursor: pointer; }\r\n\r\n/*# sourceMappingURL=detail.css.map */\r\n",""])},773:function(i,t,n){"use strict";n.r(t);var r=n(2),e=n(64),o=n(91),{companyActions:a,zmitiActions:s,infomanagerActions:d,formatDate:l,userActions:m}=(n(92),r.a),c={props:["obserable"],name:"zmitiindex",data:()=>({columntitle:"",targetKeys:[],myfiles:[],showAvatarModal:!1,showResource:!1,showWord:!1,showPdf:!1,companyname:"",addDataSource:[],imgs:window.imgs,total:0,loading:!0,currentCityIndex:-1,currentCityId:-1,transX:0,transY:0,viewH:window.innerHeight,viewW:window.innerWidth,currentChooseResource:{},currentChooseWord:{},currentChoosePdf:{},dataSource:[],showTable:!1,condition:{page_index:0,page_size:10},userinfo:{},id:"",typeid:1,productid:1072203850,title:"",begin_time:0,end_time:0,companyid:"",userSource:[],selectUsers:"",filedisabled:!1,formObj:{productid:1072203850,title:"",status:"2",content:"",fatherid:0},editorQuillOption:{modules:{toolbar:[["bold",{indent:"-1"},{indent:"+1"},{color:[]},{align:[]},"clean"]],syntax:{highlight:i=>hljs.highlightAuto(i).value}}},statusList:[{value:0,label:"禁用"},{value:1,label:"待审"},{value:2,label:"通过"},{value:3,label:"拒绝"}]}),components:{ResourceList:e.a,quillEditor:o.quillEditor},beforeCreate(){},created(){this.companyid=r.a.getCurrentCompanyId().companyid},mounted(){this.id=this.$route.params.id,this.productid=this.$route.params.productid,this.typeid=this.$route.params.typeid,this.columntitle=this.$route.params.typename,console.log(this.id,"this.id"),console.log(this.columntitle,"this.typename"),null!=this.$route.params.id&&this.getnewsDetail()},watch:{companyid(){this.getUserList()}},computed:{editor(){return this.$refs.myQuillEditor.quill}},methods:{getUserList(){var i=this;r.a.ajax({remark:"getUserList",data:{action:m.getCompanyUserList.action,condition:{page_index:0,page_size:100,companyid:this.companyid,status:1}},success(t){0===t.getret&&t.list.forEach((t,n)=>{i.userSource.push({label:t.user.realname,value:t.userid})})}})},goback(){window.history.go(-1)},add(){this.formObj={}},adminAction(){var i=this,t=null!=this.id?d.editnews.action:d.addnews.action;let n=this.formObj;n.title=this.$options.filters.msg(this.formObj.content),n.typeid=this.$route.params.typeid,null!=this.id&&(n.infoid=this.$route.params.id),console.log(n),r.a.ajax({remark:this.id?"editnews":"addnews",data:{action:t,info:n},success(t){i.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),setTimeout(()=>{window.history.go(-1)},1e3)}})},contentChange(i){this.formObj.content=i},getnewsDetail(){var i=this;r.a.ajax({remark:"getnewsDetail",data:{action:d.getnewsDetail.action,infoid:this.$route.params.id,productid:this.productid},error(){i.loading=!1},success(t){i.loading=!1,console.log(t.info,"获取新闻详情"),0===t.getret&&(i.formObj.title=t.info.title,i.formObj.content=t.info.content,i.formObj.productid=i.productid,console.log(i.formObj,"获取新闻详情s.formObj"))}})},selectuserHandle(i){this.formObj.users=i,console.log(this.formObj.users,"选中的用户")},onEditorReady(i){},onEditorBlur(){},onEditorFocus(){},onEditorChange(i,t,n){}},filters:{msg:function(i){return i.replace(/<[^<>]+>/g,"")},filterFun:function(i){return i&&i.length>25&&(i=i.substring(0,25)+"..."),i}}},u=function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"zmiti-informanagerdetail-main-ui"},[n("div",{staticClass:"zmiti-list-main"},[n("div",{staticClass:"zmiti-informanagernews-table lt-full"},[n("header",{staticClass:"zmiti-tab-header"},[n("div",[n("span",[i._v(i._s(i.columntitle))])]),i._v(" "),n("div",[n("Button",{attrs:{type:"primary"},on:{click:function(t){return i.goback()}}},[i._v("返回")])],1)]),i._v(" "),n("div",{staticClass:"zmiti-submit-main zmiti-scroll",style:{height:i.viewH-110+"px"}},[n("div",{staticClass:"zmiti-informanagerdetail-form"},[n("Form",{attrs:{model:i.formObj,"label-width":120}},[n("FormItem",{attrs:{label:"内容："}},[n("div",{staticClass:"edit_container"},[n("quill-editor",{ref:"myQuillEditor",attrs:{options:i.editorQuillOption},on:{blur:function(t){return i.onEditorBlur(t)},focus:function(t){return i.onEditorFocus(t)},change:function(t){return i.onEditorChange(t)}},model:{value:i.formObj.content,callback:function(t){i.$set(i.formObj,"content",t)},expression:"formObj.content"}})],1)]),i._v(" "),n("FormItem",{attrs:{label:""}},[n("Button",{attrs:{type:"primary"},on:{click:i.adminAction}},[i._v("提交")])],1)],1)],1)])])])])};u._withStripped=!0;var f=n(3),p=!1;var h=function(i){p||(n(648),n(650))},g=Object(f.a)(c,u,[],!1,h,"data-v-e741dd0c",null);g.options.__file="components\\infomanager\\list\\detail.vue";t.default=g.exports}}]);