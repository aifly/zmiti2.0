(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{123:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i(19),o=i(23),s=i(29),{companyActions:r,adminActions:d}=n.a,l={props:["obserable"],name:"zmitiindex",data(){return{targetKeys:[],showAvatarModal:!1,visible:!1,loading:!0,avatarList:["&#xe6a5;","&#xe6a4;","&#xe6a3;","&#xe6a2;","&#xe6a0;"],companyname:"",roleList:[],imgs:window.imgs,isLoading:!0,showDetail:!1,showDetailPage:-1,currentClassId:-1,adminuserId:"",currentUserid:"",formObj:{isover:0,usersign:1,usertypesign:1,avatar:"&#xe6a4;"},address:"",showPass:!1,showMap:!1,viewH:window.innerHeight,viewW:window.innerWidth,dataSource:[],groupList:[],companyList:[],hideMenu:!1,unJoinedCompany:[],columns:[{title:"CMS名称",key:"cmsname",align:"center"},{title:"版本",key:"version",align:"center",width:200},{title:"创建时间",key:"createtime",align:"center",width:160},{title:"状态",key:"status",align:"center",render:(t,e)=>t("div",{},1===e.row.status?"正常使用":0===e.row.status?"已禁用":"已删除")},{title:"操作",key:"action",align:"center",width:200,render:(t,e)=>t("div",[t("span",{props:{type:"primary",size:"small"},style:{margin:"2px 10px",border:"none",fontSize:"12px",cursor:"pointer",color:"#06C"},on:{click:()=>{this.showDetail=!0,this.formObj=e.row,a.default.obserable.trigger({type:"toggleMask",data:!0})}}},"编辑"),t("Poptip",{props:{confirm:!0,title:"确定要删除吗？",placement:"left"},on:{"on-ok":()=>{this.delete(e.row.cmsid)}}},[t("span",{props:{type:"error",size:"small"},style:{cursor:"pointer",color:"#06C"},on:{click:()=>{}}},"删除")])])}],formObj:{pdfurl:"",longitude:"116.585856",latitude:"40.364989"},directoryList:{},total:0,condition:{page_index:0,page_size:10},userinfo:{},selectList:[]}},components:{ZmitiMask:o.a,ZmitiTable:s.a},beforeCreate(){},mounted(){window.s=this,this.userinfo=n.a.getAdminUserInfo(),this.getDataList()},watch:{showDetail(t){t?a.default.obserable.trigger({type:"toggleMask",data:!0}):setTimeout(()=>{this.showDetailPage=-1},310)},$route:{deep:!0,handler(){this.getDataList()}}},methods:{change(){},getSelection(t){this.selectList=t},selectionDelete(){if(this.selectList.length<=0)this.$Message.error({content:"您还未选择任何要删除的项",duration:5});else{var t=this.selectList.map(t=>t.cmsid).join(",");this.delete(t)}},addAdmin(){this.showDetail=!0,this.adminuserId="",this.formAdmin={isover:0,avatar:"&#xe6a4;"},a.default.obserable.trigger({type:"toggleMask",data:!0})},closeMaskPage(){this.showDetailPage=-1},addAdmin(){this.showDetail=!0,this.adminuserId="",this.formObj={isover:0,avatar:"&#xe6a4;"},this.closeMask(!0)},closeMask(t=!1){a.default.obserable.trigger({type:"toggleMask",data:t})},delete(t){var e=this;n.a.adminAjax({remark:"delUser",data:{action:d.delCMS.action,info:{cmsids:t}},success(t){e.$Message[0===t.getret?"success":"error"](t.msg),0===t.getret&&(e.closeMask(),e.getDataList())}})},getDataList(){var t=this,e=this.$route.params.companyid;this.condition.companyid=e;new Promise((e,i)=>{n.a.adminAjax({remark:"getCMSList",data:{action:d.getCMSList.action,condition:t.condition},success(i){t.loading=!1,0===i.getret&&(t.dataSource=i.list,t.total=i.total||i.list.length,e())}})})},adminAction(){var t=this,e=this.formObj.cmsid?d.editCMS.action:d.addCMS.action,i={cmsname:t.formObj.cmsname,version:t.formObj.version,status:t.formObj.status,content:t.formObj.content};this.formObj.cmsid&&(i.cmsid=this.formObj.cmsid),n.a.adminAjax({remark:this.formObj.cmsid?"editCMS":"addCMS",data:{action:e,info:i},success(e){t.$Message[0===e.getret?"success":"error"](e.msg),0===e.getret&&(t.showDetail=!1,t.closeMask(),t.getDataList())}})}}},m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"zmiti-cy-setting-main-ui"},[i("div",{staticClass:"zmiti-list-main"},[i("header",{staticClass:"zmiti-tab-header"},[i("div",[t.companyname?i("span",[t._v(t._s(t.companyname)+" —— ")]):t._e(),t._v("畅阅")]),t._v(" "),i("div",[i("Button",{attrs:{type:"primary"},on:{click:t.addAdmin}},[t._v("新增CMS")])],1)]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"zmiti-user-main zmiti-scroll ",style:{height:t.viewH-180+"px"}},[i("ZmitiTable",{attrs:{loading:t.loading,dataSource:t.dataSource,columns:t.columns,change:t.change,"page-size":t.condition.page_size,total:t.total},on:{getSelection:t.getSelection}},[i("div",{staticStyle:{display:"inline-block"},attrs:{slot:"table-btns"},slot:"table-btns"},[i("Poptip",{attrs:{confirm:"",title:"确定要删除吗?"},on:{"on-ok":t.selectionDelete}},[i("div",{staticClass:"zmiti-table-btn"},[t._v("删除")])]),t._v(" "),i("div",{staticClass:"zmiti-table-btn"},[t._v("禁用")])],1)])],1),t._v(" "),(t.showDetail,t._e())]),t._v(" "),i("ZmitiMask",{on:{closeMaskPage:t.closeMaskPage},model:{value:t.showDetailPage,callback:function(e){t.showDetailPage=e},expression:"showDetailPage"}},[i("div",{attrs:{slot:"mask-content",name:"detail"},slot:"mask-content"},[t.showDetail?i("section",{staticClass:"zmiti-add-form zmiti-scroll"},[i("header",{staticClass:"zmiti-add-header"},[i("img",{attrs:{src:t.imgs.back,alt:""},on:{click:function(e){t.showDetail=!1}}}),t._v(" "),i("span",[t._v("基础信息")])]),t._v(" "),i("h2",{staticStyle:{height:"40px"}}),t._v(" "),i("Form",{staticClass:"zmiti-add-form-C",attrs:{model:t.formObj,"label-width":80}},[i("FormItem",{attrs:{label:"CMS名称："}},[i("Input",{attrs:{placeholder:"CMS名称："},model:{value:t.formObj.cmsname,callback:function(e){t.$set(t.formObj,"cmsname",e)},expression:"formObj.cmsname"}})],1),t._v(" "),i("FormItem",{attrs:{label:"CMS简介："}},[i("Input",{attrs:{type:"textarea",placeholder:"CMS简介："},model:{value:t.formObj.content,callback:function(e){t.$set(t.formObj,"content",e)},expression:"formObj.content"}})],1),t._v(" "),i("FormItem",{attrs:{label:"版本号："}},[i("Input",{attrs:{placeholder:"版本号："},model:{value:t.formObj.version,callback:function(e){t.$set(t.formObj,"version",e)},expression:"formObj.version"}})],1),t._v(" "),i("FormItem",{attrs:{label:"状态："}},[i("RadioGroup",{model:{value:t.formObj.status,callback:function(e){t.$set(t.formObj,"status",e)},expression:"formObj.status"}},[i("Radio",{attrs:{value:1,label:1}},[t._v("正常使用")]),t._v(" "),i("Radio",{attrs:{value:0,label:0}},[t._v("禁用")])],1)],1)],1),t._v(" "),i("div",{staticClass:"zmiti-add-form-item zmiti-add-btns"},[i("Button",{attrs:{size:"large",type:"primary"},on:{click:t.adminAction}},[t._v(t._s(t.formObj.cmsid?"保存":"确定"))])],1),t._v(" "),(t.formObj.userid,t._e())],2):t._e()])])],1)};m._withStripped=!0;var c=i(18),f=!1;var u=function(t){f||i(41)},p=Object(c.a)(l,m,[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"zmiti-list-where"},[this._v("\n\t\t\t用户编号 "),e("input",{attrs:{type:"text"}})])}],!1,u,"data-v-abdbeff2",null);p.options.__file="admin\\changyuesetting\\index.vue";e.default=p.exports},17:function(t,e,i){"use strict";function a(t,e){for(var i=[],a={},n=0;n<e.length;n++){var o=e[n],s=o[0],r={id:t+":"+n,css:o[1],media:o[2],sourceMap:o[3]};a[s]?a[s].parts.push(r):i.push(a[s]={id:s,parts:[r]})}return i}i.r(e),i.d(e,"default",(function(){return p}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=n&&(document.head||document.getElementsByTagName("head")[0]),r=null,d=0,l=!1,m=function(){},c=null,f="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,i,n){l=i,c=n||{};var s=a(t,e);return b(s),function(e){for(var i=[],n=0;n<s.length;n++){var r=s[n];(d=o[r.id]).refs--,i.push(d)}e?b(s=a(t,e)):s=[];for(n=0;n<i.length;n++){var d;if(0===(d=i[n]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete o[d.id]}}}}function b(t){for(var e=0;e<t.length;e++){var i=t[e],a=o[i.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](i.parts[n]);for(;n<i.parts.length;n++)a.parts.push(g(i.parts[n]));a.parts.length>i.parts.length&&(a.parts.length=i.parts.length)}else{var s=[];for(n=0;n<i.parts.length;n++)s.push(g(i.parts[n]));o[i.id]={id:i.id,refs:1,parts:s}}}}function h(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function g(t){var e,i,a=document.querySelector("style["+f+'~="'+t.id+'"]');if(a){if(l)return m;a.parentNode.removeChild(a)}if(u){var n=d++;a=r||(r=h()),e=z.bind(null,a,n,!1),i=z.bind(null,a,n,!0)}else a=h(),e=w.bind(null,a),i=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else i()}}var v,x=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function z(t,e,i,a){var n=i?"":a.css;if(t.styleSheet)t.styleSheet.cssText=x(e,n);else{var o=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function w(t,e){var i=e.css,a=e.media,n=e.sourceMap;if(a&&t.setAttribute("media",a),c.ssrId&&t.setAttribute(f,e.id),n&&(i+="\n/*# sourceURL="+n.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},18:function(t,e,i){"use strict";function a(t,e,i,a,n,o,s,r){var d=typeof(t=t||{}).default;"object"!==d&&"function"!==d||(t=t.default);var l,m="function"==typeof t?t.options:t;if(e&&(m.render=e,m.staticRenderFns=i,m._compiled=!0),a&&(m.functional=!0),o&&(m._scopeId=o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},m._ssrRegister=l):n&&(l=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(m.functional){m._injectStyles=l;var c=m.render;m.render=function(t,e){return l.call(e),c(t,e)}}else{var f=m.beforeCreate;m.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:m}}i.d(e,"a",(function(){return a}))},23:function(t,e,i){"use strict";var a=i(0),n={props:{value:{type:Number,default:function(){return-1}},width:{type:Number,default:function(){return 500}}},watch:{value(t){this.showPannel=t>-1}},data:()=>({viewH:window.innerHeight,showPannel:!1}),methods:{change(t){},hidePannel(){this.showPannel=!1},afterLeave(){this.$emit("input",!1),this.$emit("closeMaskPage")}},mounted(){a.default.obserable.on("toggleMask",t=>{this.showPannel=t})}},o=function(){var t=this,e=t.$createElement;return(t._self._c||e)("Drawer",{attrs:{title:"",placement:"right",width:500,closable:!1},on:{"on-visible-change":t.change},model:{value:t.showPannel,callback:function(e){t.showPannel=e},expression:"showPannel"}},[t._t("mask-content")],2)};o._withStripped=!0;var s=i(18),r=!1;var d=function(t){r||i(24)},l=Object(s.a)(n,o,[],!1,d,"data-v-bc775556",null);l.options.__file="common\\mask\\index.vue";e.a=l.exports},24:function(t,e,i){var a=i(25);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(17).default)("eaf42654",a,!1,{})},25:function(t,e,i){(t.exports=i(1)()).push([t.i,"\n.zmiti-mask-ui[data-v-bc775556]{position:fixed;z-index:1002;width:100%;height:100%;background:rgba(0,0,0,0.6);left:0;top:0\n}\n.zmiti-mask-ui .zmiti-mask-right[data-v-bc775556]{position:absolute;background:#fff;top:50px;right:0;overflow:auto;z-index:10\n}\n.zmiti-mask-ui .zmiti-mask-right.right-enter-active[data-v-bc775556],.zmiti-mask-ui .zmiti-mask-right.right-leave-active[data-v-bc775556]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-mask-ui .zmiti-mask-right.right-leave-to[data-v-bc775556],.zmiti-mask-ui .zmiti-mask-right.right-enter[data-v-bc775556]{-webkit-transform:translate3d(600px, 0, 0);transform:translate3d(600px, 0, 0)\n}\n.zmiti-mask-ui .lt-full[data-v-bc775556]{z-index:8;height:100%\n}\n",""])},27:function(t,e,i){var a=i(28);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(17).default)("a2e08e78",a,!1,{})},28:function(t,e,i){(t.exports=i(1)()).push([t.i,"\n.zmiti-user-table[data-v-2dad493e]{width:98%;margin:2px auto\n}\n.zmiti-text-overflow[data-v-2dad493e]{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis\n}\n.zmiti-pager[data-v-2dad493e]{margin:0px auto;width:98%;padding:10px 0;background:#eee;display:flex;display:-webkit-flex;flex-flow:row;justify-content:space-between;-webkit-justify-content:space-between;border:1px solid #dcdee2;border-top:none\n}\n.zmiti-pager button.ivu-btn[data-v-2dad493e]{height:32px;background:#fff;border-color:#ddd;color:#222\n}\n.zmiti-pager>div[data-v-2dad493e],.zmiti-pager>ul[data-v-2dad493e]{margin:0 20px;line-height:30px;position:relative;z-index:10\n}\n",""])},29:function(t,e,i){"use strict";var a={props:{height:{type:Number},current:{type:Number,default:1},dataSource:{type:Array,default:[]},columns:{type:Array,default:[]},change:{type:Function,default:()=>{}},pageSize:{type:Number},total:{type:Number,default:0},loading:{type:Boolean,default:!0},border:{type:Boolean,default:!1}},data:()=>({myColumns:[{type:"selection",width:60,align:"center"}]}),mounted(){this.myColumns=this.myColumns.concat(this.columns)},methods:{selectAll(t){this.$refs.selection.selectAll(t)},selection(t){this.$emit("getSelection",t)}}},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"zmiti-user-table"},[i("Table",{ref:"selection",attrs:{height:t.height,border:t.border,loading:t.loading,data:t.dataSource,columns:t.myColumns},on:{"on-selection-change":t.selection}})],1),t._v(" "),i("div",{staticClass:"zmiti-pager"},[i("div",[i("Checkbox",{on:{"on-change":t.selectAll}},[i("span",{staticStyle:{opacity:"0"}},[t._v("全")])]),t._v(" "),t._t("table-btns")],2),t._v(" "),i("Page",{attrs:{current:t.current,"page-size":t.pageSize,total:t.total,"show-total":""},on:{"on-change":t.change}})],1)])};n._withStripped=!0;var o=i(18),s=!1;var r=function(t){s||i(27)},d=Object(o.a)(a,n,[],!1,r,"data-v-2dad493e",null);d.options.__file="common\\table\\index.vue";e.a=d.exports},41:function(t,e,i){var a=i(42);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(17).default)("36a550d8",a,!1,{})},42:function(t,e,i){(t.exports=i(1)()).push([t.i,'\n.zmiti-cy-setting-main-ui[data-v-abdbeff2]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-cy-setting-main-ui .zmiti-avatar-list[data-v-abdbeff2]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-cy-setting-main-ui .zmiti-avatar-list span[data-v-abdbeff2]{font-size:40px;margin-right:20px;cursor:pointer\n}\n.zmiti-cy-setting-main-ui .zmiti-avatar-list span.active[data-v-abdbeff2]{color:#3390ff\n}\n.zmiti-cy-setting-main-ui .ivu-table-wrapper[data-v-abdbeff2]{border-bottom:none;border-right:none\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main[data-v-abdbeff2]{box-sizing:border-box;background:#fff;margin:0 auto;flex:2;-webkit-flex:2;position:relative;top:5px;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main[data-v-abdbeff2]:before{content:"";position:absolute;width:100%;height:100%;left:0;top:0;box-shadow:0 0 0 1px #ccc\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-abdbeff2]{z-index:100\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main>div[data-v-abdbeff2]{margin:10px auto 10px;position:relative;flex:1;-webkit-flex:1\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main>div .zmiti-meet-form[data-v-abdbeff2]{width:100%;margin:0px auto;padding:20px 40px;height:600px;overflow:auto\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main .zmiti-list-where[data-v-abdbeff2]{width:98%;margin:10px auto 0;height:40px;line-height:40px;font-size:14px;position:relative;z-index:10\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main .zmiti-list-where input[data-v-abdbeff2]{height:30px\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main .zmiti-user-main[data-v-abdbeff2]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main .zmiti-user-main>div[data-v-abdbeff2]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-cy-setting-main-ui .zmiti-list-main .zmiti-user-main .zmiti-user-table[data-v-abdbeff2]{width:98%;margin:0 auto\n}\n.zmiti-cy-setting-main-ui .lt-full[data-v-abdbeff2]{position:fixed !important;background:rgba(0,0,0,0.5);z-index:1001;overflow:hidden\n}\n.zmiti-cy-setting-main-ui .lt-full .zmiti-left-pannel[data-v-abdbeff2]{position:absolute;width:100%;height:100px;left:0;top:0;z-index:10\n}\n.zmiti-add-form[data-v-abdbeff2]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-add-form .zmiti-safe-content[data-v-abdbeff2]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-abdbeff2]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-abdbeff2]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-abdbeff2]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-add-form.detail-enter-active[data-v-abdbeff2],.zmiti-add-form.detail-leave-active[data-v-abdbeff2]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-add-form.detail-enter[data-v-abdbeff2],.zmiti-add-form.detail-leave-to[data-v-abdbeff2]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-add-form .zmiti-user-avatar[data-v-abdbeff2]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-add-form .zmiti-user-avatar label[data-v-abdbeff2]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-add-form .zmiti-user-avatar span[data-v-abdbeff2]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-add-form .zmiti-add-form-C[data-v-abdbeff2]{margin:10px auto 2px;width:90%\n}\n.zmiti-add-form .zmiti-add-form-item[data-v-abdbeff2]{line-height:50px;height:50px\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-abdbeff2]{text-align:center;position:relative;z-index:10\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-abdbeff2]{margin:0 20px;padding:2px 20px\n}\n.zmiti-add-form .zmiti-add-form-item input[data-v-abdbeff2]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n.ivu-icon-ios-help-circle[data-v-abdbeff2]{left:25px\n}\n.ivu-radio-inner[data-v-abdbeff2]:after{border-radius:10px !important\n}\n',""])}}]);