(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{129:function(t,i,e){"use strict";e.r(i);var a=e(0),n=e(19),o=e(30),s=e.n(o),{companyActions:r,newsActions:d,adminActions:l}=n.a;a.default.use(s.a);var m={props:["obserable"],name:"zmitiindex",data:()=>({tabIndex:[0,-1],showAvatarModal:!1,visible:!1,avatarList:["&#xe6a5;","&#xe6a4;","&#xe6a3;","&#xe6a2;","&#xe6a0;"],editorOption:{modules:{toolbar:[["bold","link"],[{color:[]}],[{align:[]}],["clean"]]}},roleList:[],imgs:window.imgs,isLoading:!1,showDetail:!1,showDetailPage:-1,currentClassId:-1,adminuserId:"",currentUserid:"",formObj:{isover:0,newstype:0,avatar:"&#xe6a4;"},address:"",showPass:!1,showMap:!1,viewH:window.innerHeight,viewW:window.innerWidth,dataSource:[],groupList:[],hideMenu:!1,loading:!0,formcompany:{pdfurl:"",longitude:"116.585856",latitude:"40.364989"},directoryList:{},productList:[],userCondition:{page_index:0,page_size:10},userList:[],userinfo:{},total:0,newsid:-1}),components:{},created(){this.newsid=this.$route.params.newsid},mounted(){window.s=this,this.userinfo=n.a.getAdminUserInfo(),this.getProductList(),null==this.newsid?this.formObj={newstype:0}:this.getDataList()},methods:{addAdmin(){this.showDetail=!0,this.adminuserId="",this.formObj={newstype:0}},getDataList(){var t=this;new Promise((i,e)=>{n.a.adminAjax({remark:"getNewsList",data:{action:d.getNewsList.action,condition:{page_index:0,page_size:1,newsid:this.newsid}},success(i){t.loading=!1,0===i.getret&&(t.formObj=i.list[0],t.formObj.productids=[],i.list[0].productidslist.map((i,e)=>{t.formObj.productids.push(i.productid)}))}})})},getProductList(){var t=this;n.a.adminAjax({remark:"getProductList",data:{action:l.getProductList.action,condition:{page_index:0,page_size:10}},success(i){0===i.getret&&(t.productList=i.list)}})},adminAction(){var t,i=this,e=this.formObj.newsid,a=e?d.editNews.action:d.addNews.action,{newsid:o,title:s,content:r,newstype:l,productids:t,views:m,status:u}=this.formObj,p={newsid:o,title:s,content:r,newstype:l,productids:t=t.join(","),views:m,status:u};console.log(p,"params"),n.a.adminAjax({remark:e?"editNews":"addNews",data:{action:a,info:{newsid:o,title:s,content:r,newstype:l,productids:t,views:m,status:u}},success(t){i.$Message[0===t.getret?"success":"error"](t.msg),setTimeout(()=>{i.formObj={isover:0,newstype:0,avatar:"&#xe6a4;"},i.$router.push({name:"news"})},2e3)}})},onEditorBlur(){},onEditorFocus(){},onEditorChange(){}}},u=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"zmiti-news-main-ui",staticStyle:{"background-color":"#ffffff"}},[e("div",{staticClass:"zmiti-list-main"},[e("header",{staticClass:"zmiti-tab-header"},[e("div",[t._v("新闻管理")]),t._v(" "),e("div",[e("router-link",{attrs:{to:{name:"news"}}},[e("Button",{attrs:{type:"default"}},[t._v("返回")])],1)],1)]),t._v(" "),e("div",{staticClass:"zmiti-news-main zmiti-scroll ",style:{height:t.viewH-180+"px"}},[e("div",{staticStyle:{"padding-right":"20px"}},[e("Form",{attrs:{model:t.formObj,"label-width":120}},[e("FormItem",{attrs:{label:"新闻分类："}},[e("RadioGroup",{model:{value:t.formObj.newstype,callback:function(i){t.$set(t.formObj,"newstype",i)},expression:"formObj.newstype"}},[e("Radio",{attrs:{value:0,label:0}},[t._v("新闻")]),t._v(" "),e("Radio",{attrs:{value:-1,label:-1}},[t._v("公告")]),t._v(" "),e("Radio",{attrs:{value:1,label:1}},[t._v("产品更新说明")])],1)],1),t._v(" "),e("FormItem",{attrs:{label:"新闻标题："}},[e("Input",{attrs:{placeholder:"新闻标题："},model:{value:t.formObj.title,callback:function(i){t.$set(t.formObj,"title",i)},expression:"formObj.title"}})],1),t._v(" "),e("FormItem",{attrs:{label:"新闻内容："}},[e("quill-editor",{ref:"myQuillEditor",attrs:{"aria-placeholder":"123",options:t.editorOption},on:{blur:function(i){return t.onEditorBlur(i)},focus:function(i){return t.onEditorFocus(i)},change:function(i){return t.onEditorChange(i)}},model:{value:t.formObj.content,callback:function(i){t.$set(t.formObj,"content",i)},expression:"formObj.content"}})],1),t._v(" "),e("FormItem",{attrs:{label:"发布者："}},[e("Input",{attrs:{placeholder:"发布者："},model:{value:t.formObj.author,callback:function(i){t.$set(t.formObj,"author",i)},expression:"formObj.author"}})],1),t._v(" "),e("FormItem",{attrs:{label:"新闻所属产品："}},[e("Select",{attrs:{multiple:""},model:{value:t.formObj.productids,callback:function(i){t.$set(t.formObj,"productids",i)},expression:"formObj.productids"}},t._l(t.productList,(function(i){return e("Option",{key:i.productid,attrs:{data:i.productid,value:i.productid}},[t._v(t._s(i.productname))])})),1)],1),t._v(" "),e("FormItem",{attrs:{label:"点击量："}},[e("InputNumber",{attrs:{placeholder:"点击量："},model:{value:t.formObj.views,callback:function(i){t.$set(t.formObj,"views",i)},expression:"formObj.views"}})],1),t._v(" "),e("FormItem",{attrs:{label:"状态："}},[e("RadioGroup",{model:{value:t.formObj.status,callback:function(i){t.$set(t.formObj,"status",i)},expression:"formObj.status"}},[e("Radio",{attrs:{value:0,label:0}},[t._v("禁用")]),t._v(" "),e("Radio",{attrs:{value:1,label:1}},[t._v("待发")]),t._v(" "),e("Radio",{attrs:{value:2,label:2}},[t._v("发布")])],1)],1),t._v(" "),e("FormItem",{attrs:{label:""}},[e("Button",{attrs:{size:"large",type:"primary"},on:{click:t.adminAction}},[t._v(t._s(t.formObj.newsid?"保存":"确定"))])],1)],1)],1)])])])};u._withStripped=!0;var p=e(18),c=!1;var f=function(t){c||(e(75),e(77))},v=Object(p.a)(m,u,[],!1,f,"data-v-40963530",null);v.options.__file="admin\\news\\article.vue";i.default=v.exports},75:function(t,i,e){var a=e(76);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(17).default)("742d4128",a,!1,{})},76:function(t,i,e){(t.exports=e(1)()).push([t.i,"\n.ql-editor{height:200px;\n}\r\n",""])},77:function(t,i,e){var a=e(78);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(17).default)("a44f024c",a,!1,{})},78:function(t,i,e){(t.exports=e(1)()).push([t.i,'\n.zmiti-news-main-ui[data-v-40963530]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-news-main-ui .zmiti-avatar-list[data-v-40963530]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-news-main-ui .zmiti-avatar-list span[data-v-40963530]{font-size:40px;margin-right:20px;cursor:pointer\n}\n.zmiti-news-main-ui .zmiti-avatar-list span.active[data-v-40963530]{color:#3390ff\n}\n.zmiti-news-main-ui .ivu-table-wrapper[data-v-40963530]{border-bottom:none;border-right:none\n}\n.zmiti-news-main-ui .zmiti-list-main[data-v-40963530]{box-sizing:border-box;background:#fff;margin:0 auto;flex:2;-webkit-flex:2;position:relative;top:5px;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-news-main-ui .zmiti-list-main[data-v-40963530]:before{content:"";position:absolute;width:100%;height:100%;left:0;top:0;box-shadow:0 0 0 1px #ccc\n}\n.zmiti-news-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-40963530]{z-index:100\n}\n.zmiti-news-main-ui .zmiti-list-main>div[data-v-40963530]{margin:10px auto 10px;position:relative;flex:1;-webkit-flex:1\n}\n.zmiti-news-main-ui .zmiti-list-main>div .zmiti-meet-form[data-v-40963530]{width:100%;margin:0px auto;padding:20px 40px;height:600px;overflow:auto\n}\n.zmiti-news-main-ui .zmiti-list-main .zmiti-list-where[data-v-40963530]{width:98%;margin:10px auto 0;height:40px;line-height:40px;font-size:14px;position:relative;z-index:10\n}\n.zmiti-news-main-ui .zmiti-list-main .zmiti-list-where input[data-v-40963530]{height:30px\n}\n.zmiti-news-main-ui .zmiti-list-main .zmiti-news-main[data-v-40963530]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-news-main-ui .zmiti-list-main .zmiti-news-main>div[data-v-40963530]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-news-main-ui .zmiti-list-main .zmiti-news-main .zmiti-cnewstable[data-v-40963530]{width:98%;margin:0 auto\n}\n.zmiti-news-main-ui .lt-full[data-v-40963530]{position:fixed !important;background:rgba(0,0,0,0.5);z-index:1001;overflow:hidden\n}\n.zmiti-news-main-ui .lt-full .zmiti-left-pannel[data-v-40963530]{position:absolute;width:100%;height:100px;left:0;top:0;z-index:10\n}\n.zmiti-add-form[data-v-40963530]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-add-form .zmiti-safe-content[data-v-40963530]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-40963530]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-40963530]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-40963530]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-add-form.detail-enter-active[data-v-40963530],.zmiti-add-form.detail-leave-active[data-v-40963530]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-add-form.detail-enter[data-v-40963530],.zmiti-add-form.detail-leave-to[data-v-40963530]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-add-form .zmiti-conewsvatar[data-v-40963530]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-add-form .zmiti-conewsvatar label[data-v-40963530]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-add-form .zmiti-conewsvatar span[data-v-40963530]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-add-form .zmiti-add-form-C[data-v-40963530]{margin:10px auto 2px;width:90%\n}\n.zmiti-add-form .zmiti-add-form-item[data-v-40963530]{line-height:50px;height:50px\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-40963530]{text-align:center;position:relative;z-index:10\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-40963530]{margin:0 20px;padding:2px 20px\n}\n.zmiti-add-form .zmiti-add-form-item input[data-v-40963530]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n.ivu-icon-ios-help-circle[data-v-40963530]{left:25px\n}\n.ivu-radio-inner[data-v-40963530]:after{border-radius:10px !important\n}\n.ivu-btn a[data-v-40963530]{color:#333\n}\n.ivu-btn-primary a[data-v-40963530]{color:#ffffff\n}\n',""])}}]);