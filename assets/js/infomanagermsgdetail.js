(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{639:function(i,t,r){var n=r(640);"string"==typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);(0,r(6).default)("4c1fc5f6",n,!1,{})},640:function(i,t,r){(i.exports=r(4)()).push([i.i,"\n.ql-container{min-height: 200px;\n}\n.ql-snow{line-height: 24px!important;\n}\n.edit_container{background: #ffffff;\n}\r\n",""])},641:function(i,t,r){var n=r(642);"string"==typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);(0,r(6).default)("d2ef3626",n,!1,{})},642:function(i,t,r){(t=i.exports=r(4)()).i(r(643),""),t.push([i.i,"\n",""])},643:function(i,t,r){(i.exports=r(4)()).push([i.i,".zmiti-informanagerdetail-main-ui {\r\n  background: #f2f2f2;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 99%;\r\n  margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-list-main {\r\n    box-sizing: border-box;\r\n    background: #fff;\r\n    margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-list-where {\r\n    font-size: 14px;\r\n    width: 98%;\r\n    margin: 0 auto 10px auto;\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    flex-flow: row; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-list-where .zmiti-search-dates {\r\n      margin: 0 10px; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-search-icon {\r\n    font-size: 20px;\r\n    cursor: pointer; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-tabs-select {\r\n    width: 98%;\r\n    margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-submit-main {\r\n    margin-top: 10px;\r\n    flex: 5;\r\n    -webkit-flex: 5;\r\n    width: 100%; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-submit-main > div {\r\n      -webkit-transition: 0.3s;\r\n      transition: 0.3s; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-submit-main .zmiti-submit-table {\r\n      width: 98%;\r\n      margin: 0 auto; }\r\n\r\n.zmiti-add-form {\r\n  flex: 1;\r\n  -webkit-flex: 1;\r\n  width: 500px;\r\n  overflow: auto;\r\n  position: absolute !important;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  height: 100%;\r\n  position: relative;\r\n  box-shadow: 0 0 0 1px #ccc;\r\n  box-sizing: border-box;\r\n  background: #f9f9f9; }\r\n  .zmiti-add-form .zmiti-safe-content {\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    flex-flow: row;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    margin-top: 30px;\r\n    justify-content: space-around;\r\n    -webkit-justify-content: space-around;\r\n    border: 1px dashed #ccc;\r\n    padding: 10px 0; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(1) {\r\n      text-align: center;\r\n      width: 120px;\r\n      font-weight: bold; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(2) {\r\n      flex: 1;\r\n      -webkit-flex: 1; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(3) {\r\n      width: 80px;\r\n      cursor: pointer;\r\n      text-align: center;\r\n      color: #0066cc; }\r\n  .zmiti-add-form.detail-enter-active, .zmiti-add-form.detail-leave-active {\r\n    -webkit-transition: 0.2s;\r\n    transition: 0.2s; }\r\n  .zmiti-add-form.detail-enter, .zmiti-add-form.detail-leave-to {\r\n    -webkit-transform: translateX(100%);\r\n    transform: translateX(100%); }\r\n  .zmiti-add-form .zmiti-submit-avatar {\r\n    background: rgba(51, 144, 255, 0.1);\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    width: 80px;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    margin: 0 auto 30px;\r\n    cursor: pointer;\r\n    position: relative; }\r\n    .zmiti-add-form .zmiti-submit-avatar label {\r\n      position: absolute;\r\n      bottom: -50px;\r\n      font-size: 12px;\r\n      width: 100%;\r\n      text-align: center;\r\n      left: 0; }\r\n    .zmiti-add-form .zmiti-submit-avatar span {\r\n      font-size: 40px;\r\n      color: rgba(51, 144, 255, 0.8); }\r\n  .zmiti-add-form .zmiti-add-form-C {\r\n    margin: 10px auto 2px;\r\n    width: 90%; }\r\n  .zmiti-add-form .zmiti-add-form-item {\r\n    line-height: 50px;\r\n    height: 50px; }\r\n    .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns {\r\n      text-align: center;\r\n      position: relative;\r\n      z-index: 10; }\r\n      .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button {\r\n        margin: 0 20px;\r\n        padding: 2px 20px; }\r\n    .zmiti-add-form .zmiti-add-form-item input {\r\n      padding-left: 6px;\r\n      height: 32px;\r\n      width: 70%;\r\n      border: 1px solid #d8d8d8;\r\n      outline: none; }\r\n\r\n.zmiti-inforuserlist-select ul {\r\n  display: flex;\r\n  display: -webkit-flex;\r\n  flex-flow: row;\r\n  flex-wrap: wrap; }\r\n  .zmiti-inforuserlist-select ul li {\r\n    width: 120px; }\r\n\r\n.zmiti-select-column {\r\n  padding: 10px; }\r\n\r\n.zmiti-informanagerdetail-form {\r\n  padding: 20px; }\r\n\r\n.zmiti-scroll {\r\n  overflow: auto; }\r\n\r\n.zmiti-remove-icon {\r\n  cursor: pointer; }\r\n\r\n/*# sourceMappingURL=detail.css.map */\r\n",""])},770:function(i,t,r){"use strict";r.r(t);var n=r(2),e=r(64),o=r(91),{companyActions:a,zmitiActions:s,infomanagerActions:l,formatDate:d,userActions:m}=(r(92),n.a),c={props:["obserable"],name:"zmitiindex",data:()=>({columntitle:"",targetKeys:[],myfiles:[],showAvatarModal:!1,showResource:!1,showWord:!1,showPdf:!1,companyname:"",addDataSource:[],imgs:window.imgs,total:0,loading:!0,currentCityIndex:-1,currentCityId:-1,transX:0,transY:0,viewH:window.innerHeight,viewW:window.innerWidth,currentChooseResource:{},currentChooseWord:{},currentChoosePdf:{},dataSource:[],showTable:!1,condition:{page_index:0,page_size:10},userinfo:{},id:"",typeid:1,productid:0,title:"",begin_time:0,end_time:0,companyid:"",userSource:[],selectUsers:"",filedisabled:!1,formObj:{productid:0,title:"",status:"2",content:"",wordurl:"",pdfurl:"",filearray:"",fatherid:0,issecret:"0",allowreply:"1",visit:"0",remarks:"",users:[]},editorQuillOption:{modules:{toolbar:[["bold",{indent:"-1"},{indent:"+1"},{color:[]},{align:[]},"clean"]],syntax:{highlight:i=>hljs.highlightAuto(i).value}}},statusList:[{value:0,label:"禁用"},{value:1,label:"待审"},{value:2,label:"通过"},{value:3,label:"拒绝"}]}),components:{ResourceList:e.a,quillEditor:o.quillEditor},beforeCreate(){},created(){this.companyid=n.a.getCurrentCompanyId().companyid},mounted(){this.id=this.$route.params.id,this.typeid=this.$route.params.typeid,this.productid=this.$route.params.productid,this.formObj.productid=this.$route.params.productid,this.columntitle=this.$route.params.typename,console.log(this.id,"this.id"),console.log(this.typeid,"this.typeid"),this.getnewsDetail()},watch:{companyid(){this.getUserList()}},methods:{getUserList(){var i=this;n.a.ajax({remark:"getUserList",data:{action:m.getCompanyUserList.action,condition:{page_index:0,page_size:100,companyid:this.companyid,status:1}},success(t){0===t.getret&&t.list.forEach((t,r)=>{i.userSource.push({label:t.user.realname,value:t.userid})})}})},goback(){window.history.go(-1)},add(){this.formObj={}},adminAction(){var i=this,t=null!=this.id?l.editnews.action:l.addnews.action;let r=this.formObj;r.typeid=this.$route.params.typeid,null!=this.id?r.infoid=this.$route.params.id:i.formObj.users.length>0&&(r.users=i.formObj.users),console.log(r),n.a.ajax({remark:this.id?"editnews":"addnews",data:{action:t,info:r},success(t){i.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),setTimeout(()=>{window.history.go(-1)},1e3)}})},contentChange(i){this.formObj.content=i},getnewsDetail(){var i=this;n.a.ajax({remark:"getnewsDetail",data:{action:l.getnewsDetail.action,infoid:this.$route.params.id,productid:this.productid},error(){i.loading=!1},success(t){i.loading=!1,console.log(t.info,"获取新闻详情"),0===t.getret&&(i.formObj=t.info,i.formObj.allowreply=t.info.allowreply.toString(),i.formObj.issecret=t.info.issecret.toString(),i.formObj.status=t.info.status.toString(),i.formObj.visit=t.info.visit.toString(),i.formObj.productid=i.productid,console.log(i.formObj,"获取新闻详情s.formObj"))}})},selectuserHandle(i){this.formObj.users=i,console.log(this.formObj.users,"选中的用户")},onEditorReady(i){},onEditorBlur(){},onEditorFocus(){},onEditorChange(i,t,r){}}},u=function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"zmiti-informanagerdetail-main-ui"},[r("div",{staticClass:"zmiti-list-main"},[r("div",{staticClass:"zmiti-informanagernews-table lt-full"},[r("header",{staticClass:"zmiti-tab-header"},[r("div",[r("span",[i._v(i._s(i.columntitle))])]),i._v(" "),r("div",[r("Button",{attrs:{type:"primary"},on:{click:function(t){return i.goback()}}},[i._v("返回")])],1)]),i._v(" "),r("div",{staticClass:"zmiti-submit-main zmiti-scroll",style:{height:i.viewH-110+"px"}},[r("div",{staticClass:"zmiti-informanagerdetail-form"},[r("Form",{attrs:{model:i.formObj,"label-width":120}},[r("FormItem",{attrs:{label:"标题："}},[r("Input",{attrs:{placeholder:"标题"},model:{value:i.formObj.title,callback:function(t){i.$set(i.formObj,"title",t)},expression:"formObj.title"}})],1),i._v(" "),r("FormItem",{attrs:{label:"内容："}},[r("div",{staticClass:"edit_container"},[r("quill-editor",{ref:"myQuillEditor",attrs:{options:i.editorQuillOption},on:{blur:function(t){return i.onEditorBlur(t)},focus:function(t){return i.onEditorFocus(t)},change:function(t){return i.onEditorChange(t)}},model:{value:i.formObj.content,callback:function(t){i.$set(i.formObj,"content",t)},expression:"formObj.content"}})],1)]),i._v(" "),r("FormItem",{attrs:{label:"访问权限："}},[r("RadioGroup",{model:{value:i.formObj.visit,callback:function(t){i.$set(i.formObj,"visit",t)},expression:"formObj.visit"}},[r("Radio",{attrs:{label:"0"}},[i._v("全部人员")]),i._v(" "),r("Radio",{attrs:{label:"1"}},[i._v("指定人员")])],1),i._v(" "),void 0===this.id?r("div",[1===parseInt(i.formObj.visit)?[r("Select",{staticStyle:{width:"260px"},attrs:{multiple:""},on:{"on-change":i.selectuserHandle},model:{value:i.selectUsers,callback:function(t){i.selectUsers=t},expression:"selectUsers"}},i._l(i.userSource,(function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[i._v(i._s(t.label))])})),1)]:i._e()],2):i._e()],1),i._v(" "),r("FormItem",{attrs:{label:"备注："}},[r("Input",{model:{value:i.formObj.remarks,callback:function(t){i.$set(i.formObj,"remarks",t)},expression:"formObj.remarks"}})],1),i._v(" "),r("FormItem",{attrs:{label:""}},[r("Button",{attrs:{type:"primary"},on:{click:i.adminAction}},[i._v("提交")])],1)],1)],1)])])])])};u._withStripped=!0;var f=r(3),p=!1;var h=function(i){p||(r(639),r(641))},g=Object(f.a)(c,u,[],!1,h,"data-v-938ec39e",null);g.options.__file="components\\infomanager\\msg\\detail.vue";t.default=g.exports}}]);