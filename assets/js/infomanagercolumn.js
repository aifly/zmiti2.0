(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{673:function(i,t,e){var r=e(674);"string"==typeof r&&(r=[[i.i,r,""]]),r.locals&&(i.exports=r.locals);(0,e(6).default)("28bee99b",r,!1,{})},674:function(i,t,e){(i.exports=e(4)()).push([i.i,"\n.zmiti-informanagercolumn-main-ui[data-v-fbc25a9e]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-informanagercolumn-main-ui .zmiti-list-main[data-v-fbc25a9e]{box-sizing:border-box;background:#fff;margin:0 auto\n}\n.zmiti-informanagercolumn-main-ui .zmiti-submit-main[data-v-fbc25a9e]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-informanagercolumn-main-ui .zmiti-submit-main>div[data-v-fbc25a9e]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-informanagercolumn-main-ui .zmiti-submit-main .zmiti-submit-table[data-v-fbc25a9e]{width:98%;margin:0 auto\n}\n",""])},675:function(i,t,e){var r=e(676);"string"==typeof r&&(r=[[i.i,r,""]]),r.locals&&(i.exports=r.locals);(0,e(6).default)("278f94d2",r,!1,{})},676:function(i,t,e){(i.exports=e(4)()).push([i.i,"\n.ql-container{min-height: 200px;\n}\n.ql-snow{line-height: 24px!important;\n}\n.edit_container{background: #ffffff;\n}\r\n",""])},677:function(i,t,e){var r=e(678);"string"==typeof r&&(r=[[i.i,r,""]]),r.locals&&(i.exports=r.locals);(0,e(6).default)("a9db04e4",r,!1,{})},678:function(i,t,e){(t=i.exports=e(4)()).i(e(679),""),t.push([i.i,"\n",""])},679:function(i,t,e){(i.exports=e(4)()).push([i.i,".zmiti-informanagerdetail-main-ui {\r\n  background: #f2f2f2;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 99%;\r\n  margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-list-main {\r\n    box-sizing: border-box;\r\n    background: #fff;\r\n    margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-list-where {\r\n    font-size: 14px;\r\n    width: 98%;\r\n    margin: 0 auto 10px auto;\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    flex-flow: row; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-list-where .zmiti-search-dates {\r\n      margin: 0 10px; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-search-icon {\r\n    font-size: 20px;\r\n    cursor: pointer; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-tabs-select {\r\n    width: 98%;\r\n    margin: 0 auto; }\r\n  .zmiti-informanagerdetail-main-ui .zmiti-submit-main {\r\n    margin-top: 10px;\r\n    flex: 5;\r\n    -webkit-flex: 5;\r\n    width: 100%; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-submit-main > div {\r\n      -webkit-transition: 0.3s;\r\n      transition: 0.3s; }\r\n    .zmiti-informanagerdetail-main-ui .zmiti-submit-main .zmiti-submit-table {\r\n      width: 98%;\r\n      margin: 0 auto; }\r\n\r\n.zmiti-add-form {\r\n  flex: 1;\r\n  -webkit-flex: 1;\r\n  width: 500px;\r\n  overflow: auto;\r\n  position: absolute !important;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  height: 100%;\r\n  position: relative;\r\n  box-shadow: 0 0 0 1px #ccc;\r\n  box-sizing: border-box;\r\n  background: #f9f9f9; }\r\n  .zmiti-add-form .zmiti-safe-content {\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    flex-flow: row;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    margin-top: 30px;\r\n    justify-content: space-around;\r\n    -webkit-justify-content: space-around;\r\n    border: 1px dashed #ccc;\r\n    padding: 10px 0; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(1) {\r\n      text-align: center;\r\n      width: 120px;\r\n      font-weight: bold; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(2) {\r\n      flex: 1;\r\n      -webkit-flex: 1; }\r\n    .zmiti-add-form .zmiti-safe-content > div:nth-of-type(3) {\r\n      width: 80px;\r\n      cursor: pointer;\r\n      text-align: center;\r\n      color: #0066cc; }\r\n  .zmiti-add-form.detail-enter-active, .zmiti-add-form.detail-leave-active {\r\n    -webkit-transition: 0.2s;\r\n    transition: 0.2s; }\r\n  .zmiti-add-form.detail-enter, .zmiti-add-form.detail-leave-to {\r\n    -webkit-transform: translateX(100%);\r\n    transform: translateX(100%); }\r\n  .zmiti-add-form .zmiti-submit-avatar {\r\n    background: rgba(51, 144, 255, 0.1);\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    width: 80px;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    margin: 0 auto 30px;\r\n    cursor: pointer;\r\n    position: relative; }\r\n    .zmiti-add-form .zmiti-submit-avatar label {\r\n      position: absolute;\r\n      bottom: -50px;\r\n      font-size: 12px;\r\n      width: 100%;\r\n      text-align: center;\r\n      left: 0; }\r\n    .zmiti-add-form .zmiti-submit-avatar span {\r\n      font-size: 40px;\r\n      color: rgba(51, 144, 255, 0.8); }\r\n  .zmiti-add-form .zmiti-add-form-C {\r\n    margin: 10px auto 2px;\r\n    width: 90%; }\r\n  .zmiti-add-form .zmiti-add-form-item {\r\n    line-height: 50px;\r\n    height: 50px; }\r\n    .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns {\r\n      text-align: center;\r\n      position: relative;\r\n      z-index: 10; }\r\n      .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button {\r\n        margin: 0 20px;\r\n        padding: 2px 20px; }\r\n    .zmiti-add-form .zmiti-add-form-item input {\r\n      padding-left: 6px;\r\n      height: 32px;\r\n      width: 70%;\r\n      border: 1px solid #d8d8d8;\r\n      outline: none; }\r\n\r\n.zmiti-inforuserlist-select ul {\r\n  display: flex;\r\n  display: -webkit-flex;\r\n  flex-flow: row;\r\n  flex-wrap: wrap; }\r\n  .zmiti-inforuserlist-select ul li {\r\n    width: 120px; }\r\n\r\n.zmiti-select-column {\r\n  padding: 10px; }\r\n\r\n.zmiti-informanagerdetail-form {\r\n  padding: 20px; }\r\n\r\n.zmiti-scroll {\r\n  overflow: auto; }\r\n\r\n.zmiti-remove-icon {\r\n  cursor: pointer; }\r\n\r\n/*# sourceMappingURL=detail.css.map */\r\n",""])},782:function(i,t,e){"use strict";e.r(t);e(2);var r={props:["obserable"],name:"zmitiindex",data:()=>({targetKeys:[],showAvatarModal:!1,companyname:"",addDataSource:[],imgs:window.imgs,total:0,loading:!0,currentCityIndex:-1,currentCityId:-1,transX:0,transY:0,viewH:window.innerHeight,viewW:window.innerWidth,dataSource:[],showTable:!1,condition:{page_index:0,page_size:10},userinfo:{},productid:0}),components:{ZmitiTable:e(9).a},beforeCreate(){},mounted(){setTimeout(()=>{},100)},watch:{},methods:{}},n=function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"zmiti-informanagercolumn-main-ui"},[t("div",{staticClass:"zmiti-list-main"},[t("div",{staticClass:"zmiti-informanagercolumn-table lt-full"},[t("header",{staticClass:"zmiti-tab-header"},[this._m(0),this._v(" "),t("div",[t("Button",{attrs:{type:"primary"}},[this._v("类型管理")])],1)]),this._v(" "),t("div",{staticClass:"zmiti-scroll",style:{height:this.viewH-110+"px"}})])])])};n._withStripped=!0;var o=e(3),a=!1;var s=function(i){a||e(673)},l=Object(o.a)(r,n,[function(){var i=this.$createElement,t=this._self._c||i;return t("div",[t("span",[this._v("栏目设置")])])}],!1,s,"data-v-fbc25a9e",null);l.options.__file="components\\infomanager\\column\\index.vue";t.default=l.exports},783:function(i,t,e){"use strict";e.r(t);var r=e(2),n=e(91),o=(e(92),e(64)),{companyActions:a,zmitiActions:s,infomanagerActions:l,formatDate:d,userActions:m,resourceActions:c}=r.a,u={props:["obserable"],name:"zmitiindex",data:()=>({columntitle:"",targetKeys:[],myfiles:[],showAvatarModal:!1,showResource:!1,showWord:!1,showPdf:!1,companyname:"",addDataSource:[],imgs:window.imgs,total:0,loading:!0,currentCityIndex:-1,currentCityId:-1,transX:0,transY:0,viewH:window.innerHeight,viewW:window.innerWidth,currentChooseResource:{},currentChooseWord:{},currentChoosePdf:{},dataSource:[],showTable:!1,condition:{page_index:0,page_size:10},userinfo:{},id:"",typeid:1,productid:0,title:"",begin_time:0,end_time:0,companyid:"",userSource:[],selectUsers:"",filedisabled:!1,formObj:{productid:0,title:"",status:"2",content:"",wordurl:"",pdfurl:"",filearray:"",fatherid:0,issecret:"0",allowreply:"1",visit:"0",remarks:"",users:[]},editorQuillOption:{modules:{toolbar:[["bold",{indent:"-1"},{indent:"+1"},{color:[]},{align:[]},"clean"]],syntax:{highlight:i=>hljs.highlightAuto(i).value}}},statusList:[{value:0,label:"禁用"},{value:1,label:"待审"},{value:2,label:"通过"},{value:3,label:"拒绝"}]}),components:{quillEditor:n.quillEditor,ResourceList:o.a},beforeCreate(){},created(){this.companyid=r.a.getCurrentCompanyId().companyid},mounted(){this.id=this.$route.params.id,this.typeid=this.$route.params.typeid,this.productid=this.$route.params.productid,this.formObj.productid=this.$route.params.productid,this.columntitle=this.$route.params.typename,console.log(this.id,"this.id"),console.log(this.typeid,"this.typeid"),this.getnewsDetail()},watch:{companyid(){this.getUserList()},myfiles(){this.filedisabled=5===this.myfiles.length}},methods:{getUserList(){var i=this;r.a.ajax({remark:"getUserList",data:{action:m.getCompanyUserList.action,condition:{page_index:0,page_size:100,companyid:this.companyid,status:1}},success(t){0===t.getret&&t.list.forEach((t,e)=>{i.userSource.push({label:t.user.realname,value:t.userid})})}})},goback(){window.history.go(-1)},add(){this.formObj={}},adminAction(){var i=this,t=null!=this.id?l.editnews.action:l.addnews.action;let e=this.formObj;e.typeid=this.$route.params.typeid,null!=this.id?e.infoid=this.$route.params.id:i.formObj.users.length>0&&(e.users=i.formObj.users),console.log(e),r.a.ajax({remark:this.id?"editnews":"addnews",data:{action:t,info:e},success(t){i.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),setTimeout(()=>{window.history.go(-1)},1e3)}})},contentChange(i){this.formObj.content=i},getnewsDetail(){var i=this;r.a.ajax({remark:"getnewsDetail",data:{action:l.getnewsDetail.action,infoid:this.$route.params.id,productid:this.productid},error(){i.loading=!1},success(t){i.loading=!1,console.log(t.info,"获取新闻详情"),0===t.getret&&(i.formObj=t.info,i.formObj.allowreply=t.info.allowreply.toString(),i.formObj.issecret=t.info.issecret.toString(),i.formObj.status=t.info.status.toString(),i.formObj.visit=t.info.visit.toString(),i.formObj.productid=i.productid,i.myfiles=t.info.filearray.split(","),console.log(i.formObj,"获取新闻详情s.formObj"))}})},selectuserHandle(i){this.formObj.users=i,console.log(this.formObj.users,"选中的用户")},onFinishWord(i){this.currentChooseWord=i},chooseWord(){this.showWord=!1,this.formObj.wordurl=this.currentChooseWord.filepath},onFinishPdf(i){"pdf"===i.fileextname?(this.formObj.currentChoosePdf=i.filepath,r.a.ajax({remark:"filetoimg",_ui:{type:2},data:{action:c.fileToImage.action,info:{pdfurl:i.filepath}},success(i){console.log(i)}}),console.log(this.formObj.currentChoosePdf)):this.$Message.error("请选择pdf文件")},choosePdf(){this.showPdf=!1,this.formObj.pdfurl=this.currentChoosePdf.filepath},onFinished(i){this.currentChooseResource=i},chooseImg(){this.showResource=!1;this.currentChooseResource.filepath;this.myfiles.push(this.currentChooseResource.filepath),console.log(this.myfiles,"选择的文件"),this.formObj.filearray=this.myfiles.join(","),console.log(this.formObj.filearray,"全部文件地址")},filesHandle(i){let t=i.target.value,e=Number(i.target.id);this.myfiles[e]=t;let r=this.myfiles.join(",");this.formObj.filearray=r,console.log(this.myfiles,"更新后地址",r)},handleDelete(i){this.myfiles.splice(i,1);let t=this.myfiles.join(",");this.formObj.filearray=t,console.log(this.myfiles,"删除后地址",t)},onEditorReady(i){},onEditorBlur(){},onEditorFocus(){},onEditorChange(i,t,e){}}},f=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"zmiti-informanagerdetail-main-ui"},[e("div",{staticClass:"zmiti-list-main"},[e("div",{staticClass:"zmiti-informanagernews-table lt-full"},[e("header",{staticClass:"zmiti-tab-header"},[e("div",[e("span",[i._v(i._s(i.columntitle))])]),i._v(" "),e("div",[e("Button",{attrs:{type:"primary"},on:{click:function(t){return i.goback()}}},[i._v("返回")])],1)]),i._v(" "),e("div",{staticClass:"zmiti-submit-main zmiti-scroll",style:{height:i.viewH-110+"px"}},[e("div",{staticClass:"zmiti-informanagerdetail-form"},[e("Form",{attrs:{model:i.formObj,"label-width":120}},[e("FormItem",{attrs:{label:"标题："}},[e("Input",{attrs:{placeholder:"标题"},model:{value:i.formObj.title,callback:function(t){i.$set(i.formObj,"title",t)},expression:"formObj.title"}})],1),i._v(" "),e("FormItem",{attrs:{label:"内容："}},[e("div",{staticClass:"edit_container"},[e("quill-editor",{ref:"myQuillEditor",attrs:{options:i.editorQuillOption},on:{blur:function(t){return i.onEditorBlur(t)},focus:function(t){return i.onEditorFocus(t)},change:function(t){return i.onEditorChange(t)}},model:{value:i.formObj.content,callback:function(t){i.$set(i.formObj,"content",t)},expression:"formObj.content"}})],1)]),i._v(" "),e("FormItem",{attrs:{label:"WORD加密文件："}},[e("div",[e("Button",{attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(t){i.showWord=!0}}},[i._v("选择word文件")])],1),i._v(" "),e("Input",{model:{value:i.formObj.wordurl,callback:function(t){i.$set(i.formObj,"wordurl",t)},expression:"formObj.wordurl"}})],1),i._v(" "),e("FormItem",{attrs:{label:"PDF加密文件："}},[e("div",[e("Button",{attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(t){i.showPdf=!0}}},[i._v("选择pdf文件")])],1),i._v(" "),e("Input",{model:{value:i.formObj.pdfurl,callback:function(t){i.$set(i.formObj,"pdfurl",t)},expression:"formObj.pdfurl"}})],1),i._v(" "),e("FormItem",{attrs:{label:"附件："}},[e("div",[e("Button",{attrs:{icon:"ios-cloud-upload-outline",disabled:i.filedisabled},on:{click:function(t){i.showResource=!0}}},[i._v("选择附件")]),i._v(" 提示：最多添加5个文件")],1),i._v(" "),e("div",[e("ul",i._l(i.myfiles,(function(t,r){return e("li",{key:r},[e("Input",{attrs:{"element-id":r.toString(),value:t},on:{"on-change":i.filesHandle}},[e("Icon",{staticClass:"zmiti-remove-icon",attrs:{slot:"suffix",type:"ios-trash-outline",size:"20"},on:{click:function(t){return i.handleDelete(r)}},slot:"suffix"})],1)],1)})),0)])]),i._v(" "),e("FormItem",{attrs:{label:"加密："}},[e("RadioGroup",{model:{value:i.formObj.issecret,callback:function(t){i.$set(i.formObj,"issecret",t)},expression:"formObj.issecret"}},[e("Radio",{attrs:{label:"0"}},[i._v("否")]),i._v(" "),e("Radio",{attrs:{label:"1"}},[i._v("是")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"允许回复："}},[e("RadioGroup",{model:{value:i.formObj.allowreply,callback:function(t){i.$set(i.formObj,"allowreply",t)},expression:"formObj.allowreply"}},[e("Radio",{attrs:{label:"1"}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{label:"0"}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"访问权限："}},[e("RadioGroup",{model:{value:i.formObj.visit,callback:function(t){i.$set(i.formObj,"visit",t)},expression:"formObj.visit"}},[e("Radio",{attrs:{label:"0"}},[i._v("全部人员")]),i._v(" "),e("Radio",{attrs:{label:"1"}},[i._v("指定人员")])],1),i._v(" "),void 0===this.id?e("div",[1===parseInt(i.formObj.visit)?[e("Select",{staticStyle:{width:"260px"},attrs:{multiple:""},on:{"on-change":i.selectuserHandle},model:{value:i.selectUsers,callback:function(t){i.selectUsers=t},expression:"selectUsers"}},i._l(i.userSource,(function(t){return e("Option",{key:t.value,attrs:{value:t.value}},[i._v(i._s(t.label))])})),1)]:i._e()],2):i._e()],1),i._v(" "),e("FormItem",{attrs:{label:"备注："}},[e("Input",{model:{value:i.formObj.remarks,callback:function(t){i.$set(i.formObj,"remarks",t)},expression:"formObj.remarks"}})],1),i._v(" "),e("FormItem",{attrs:{label:""}},[e("Button",{attrs:{type:"primary"},on:{click:i.adminAction}},[i._v("提交")])],1)],1)],1)])])]),i._v(" "),e("Modal",{attrs:{title:"资料库",width:"800"},model:{value:i.showWord,callback:function(t){i.showWord=t},expression:"showWord"}},[i.showWord?e("ResourceList",{attrs:{isAdmin:!1,isDialog:!0,type:"doc|docx"},on:{onFinished:i.onFinishWord}}):i._e()],1),i._v(" "),e("Modal",{attrs:{title:"资料库",width:"800"},model:{value:i.showPdf,callback:function(t){i.showPdf=t},expression:"showPdf"}},[i.showPdf?e("ResourceList",{attrs:{isAdmin:!1,isDialog:!0,type:"pdf"},on:{onFinished:i.onFinishPdf}}):i._e()],1),i._v(" "),e("Modal",{attrs:{title:"资料库",width:"800"},model:{value:i.showResource,callback:function(t){i.showResource=t},expression:"showResource"}},[i.showResource?e("ResourceList",{attrs:{isAdmin:!1,isDialog:!0},on:{onFinished:i.onFinished}}):i._e()],1)],1)};f._withStripped=!0;var h=e(3),p=!1;var b=function(i){p||(e(675),e(677))},g=Object(h.a)(u,f,[],!1,b,"data-v-6af93425",null);g.options.__file="components\\infomanager\\news\\detail.vue";t.default=g.exports}}]);