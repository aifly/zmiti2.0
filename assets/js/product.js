(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{108:function(t,i,a){var e=a(109);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a(17).default)("1c517868",e,!1,{})},109:function(t,i,a){(t.exports=a(1)()).push([t.i,"\n.ql-editor{height:200px;\n}\r\n",""])},110:function(t,i,a){var e=a(111);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a(17).default)("fce687ba",e,!1,{})},111:function(t,i,a){(t.exports=a(1)()).push([t.i,"\n.zmiti-product-main-ui[data-v-db66f08c]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-product-main-ui .zmiti-avatar-list[data-v-db66f08c]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-product-main-ui .zmiti-avatar-list span[data-v-db66f08c]{font-size:40px;margin-right:20px;cursor:pointer\n}\n.zmiti-product-main-ui .zmiti-avatar-list span.active[data-v-db66f08c]{color:#3390ff\n}\n.zmiti-product-main-ui .ivu-table-wrapper[data-v-db66f08c]{border-bottom:none;border-right:none\n}\n.zmiti-product-main-ui .zmiti-list-main[data-v-db66f08c]{box-sizing:border-box;background:#fff;margin:0 auto;flex:2;-webkit-flex:2;position:relative;top:5px;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-product-main-ui .zmiti-list-main[data-v-db66f08c]:before{content:\"\";position:absolute;width:100%;height:100%;left:0;top:0;box-shadow:0 0 0 1px #ccc\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-db66f08c]{z-index:100\n}\n.zmiti-product-main-ui .zmiti-list-main>div[data-v-db66f08c]{margin:10px auto 10px;position:relative;flex:1;-webkit-flex:1\n}\n.zmiti-product-main-ui .zmiti-list-main>div .zmiti-meet-form[data-v-db66f08c]{width:100%;margin:0px auto;padding:20px 40px;height:600px;overflow:auto\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-list-where[data-v-db66f08c]{width:98%;margin:10px auto 0;height:40px;line-height:40px;font-size:14px;position:relative;z-index:10\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-list-where input[data-v-db66f08c]{height:30px\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main[data-v-db66f08c]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main a[data-v-db66f08c]{color:inherit\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main>div[data-v-db66f08c]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul[data-v-db66f08c]{display:flex;display:-webkit-flex;flex-flow:row;flex-wrap:wrap;-webkit-flex-wrap:wrap;width:98%;margin:0 auto\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li[data-v-db66f08c]{list-style:none;width:23%;margin-right:2%;margin-top:10px;height:140px;border:1px solid #eee;position:relative;font-size:14px;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li[data-v-db66f08c]::before{content:'';position:absolute;width:100%;height:100%;box-shadow:0 0 13px rgba(0,0,0,0.2)\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div[data-v-db66f08c]:nth-of-type(1){height:34px;line-height:34px;background:#f2f2f2;padding:0 10px;font-size:14px;position:relative;font-weight:bold\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div:nth-of-type(1) span[data-v-db66f08c]{position:absolute;right:10px;cursor:pointer\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div[data-v-db66f08c]:nth-of-type(3){height:34px;line-height:34px;padding:0 10px;position:relative;display:flex;display:-webkit-flex;flex-flow:row;justify-content:space-between\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div[data-v-db66f08c]:nth-of-type(3):before{content:'';width:96%;position:absolute;height:1px;background:#eee;left:2%\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div:nth-of-type(3) span[data-v-db66f08c]{cursor:pointer;font-size:20px;color:#3390ff\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div:nth-of-type(3) span.del[data-v-db66f08c]{color:#f00;font-size:24px\n}\n.zmiti-product-main-ui .zmiti-list-main .zmiti-product-main ul li>div[data-v-db66f08c]:nth-of-type(2){flex:1;-webkit-flex:1;padding:10px\n}\n.zmiti-product-main-ui .lt-full[data-v-db66f08c]{position:fixed !important;background:rgba(0,0,0,0.5);z-index:1001;overflow:hidden\n}\n.zmiti-product-main-ui .lt-full .zmiti-left-pannel[data-v-db66f08c]{position:absolute;width:100%;height:100px;left:0;top:0;z-index:10\n}\n.zmiti-add-form[data-v-db66f08c]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0px;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-add-form .zmiti-safe-content[data-v-db66f08c]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-db66f08c]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-db66f08c]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-db66f08c]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-add-form.detail-enter-active[data-v-db66f08c],.zmiti-add-form.detail-leave-active[data-v-db66f08c]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-add-form.detail-enter[data-v-db66f08c],.zmiti-add-form.detail-leave-to[data-v-db66f08c]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-add-form .zmiti-product-avatar[data-v-db66f08c]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-add-form .zmiti-product-avatar label[data-v-db66f08c]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-add-form .zmiti-product-avatar span[data-v-db66f08c]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-add-form .zmiti-add-form-C[data-v-db66f08c]{margin:10px auto 2px;width:90%\n}\n.zmiti-add-form .zmiti-add-form-item[data-v-db66f08c]{line-height:50px;height:50px\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-db66f08c]{text-align:center;position:relative;z-index:10\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-db66f08c]{margin:0 20px;padding:2px 20px\n}\n.zmiti-add-form .zmiti-add-form-item input[data-v-db66f08c]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n.ivu-icon-ios-help-circle[data-v-db66f08c]{left:25px\n}\n.ivu-radio-inner[data-v-db66f08c]:after{border-radius:10px !important\n}\n@media all and (max-width: 1400px){\n.zmiti-product-main ul li[data-v-db66f08c]{width:30% !important\n}\n}\n",""])},118:function(t,i,a){"use strict";a.r(i);var e=a(0),n=a(19),o=a(22),r=a(23),s=a(30),d=a.n(s);e.default.use(d.a);var{adminActions:l,companyActions:m,formatDate:c}=n.a,u={props:["obserable"],name:"zmitiindex",data:()=>({tabIndex:[0,-1],showAvatarModal:!1,visible:!1,formatDate:c,avatarList:["&#xe6a5;","&#xe6a4;","&#xe6a3;","&#xe6a2;","&#xe6a0;"],companyname:"",roleList:[],imgs:window.imgs,isLoading:!1,showDetail:!1,showDetailPage:-1,currentClassId:-1,adminuserId:"",currentUserid:"",formObj:{status:0,usersign:1,usertypesign:1,avatar:"&#xe6a4;"},address:"",showPass:!1,showMap:!1,viewH:window.innerHeight,viewW:window.innerWidth,dataSrouce:[],groupList:[],companyList:[],hideMenu:!1,formObj:{},condition:{page_index:0,page_size:10},userinfo:{},editorOption:{modules:{toolbar:[["link"]]}}}),components:{Avatar:o.a,ZmitiMask:r.a},beforeCreate(){},mounted(){window.s=this,this.userinfo=n.a.getAdminUserInfo(),this.getDataList()},watch:{showDetail(t){t?e.default.obserable.trigger({type:"toggleMask",data:!0}):setTimeout(()=>{this.showDetailPage=-1},310)},$route:{deep:!0,handler(){this.getDataList()}}},methods:{showEditPage(t){e.default.obserable.trigger({type:"toggleMask",data:!0}),this.formObj=t},closeMaskPage(){this.showDetailPage=-1,e.default.obserable.trigger({type:"toggleMask",data:!1})},getAvatar(t){this.formObj.icon=t},initPassword(){var{$Message:t}=this;n.a.adminAjax({data:{action:m.modifyAdminPassword.action,adminuserid:this.formObj.adminuserid,adminpwd:window.config.defaultPass},success(i){t[0===i.getret?"success":"error"](i.msg),i.getret}})},addAdmin(){this.showDetail=!0,this.adminuserId="",this.formObj={isover:0,avatar:"&#xe6a4;"},e.default.obserable.trigger({type:"toggleMask",data:!0})},deletes(t){var i=this;n.a.adminAjax({remark:"delProduct",data:{action:l.delProduct.action,condition:{productids:t}},success(t){i.$Message[0===t.getret?"success":"error"](t.msg),0===t.getret&&i.getDataList()}})},getDataList(){var t=this;new Promise((i,a)=>{n.a.adminAjax({remark:"getProductList",data:{action:l.getProductList.action,condition:this.condition},success(a){0===a.getret&&(t.dataSrouce=a.list,i())}})})},action(){var t=this,i=this.formObj.productid?l.editProduct.action:l.addProduct.action;n.a.adminAjax({remark:this.formObj.productid?"editUser":"addUser",data:{action:i,info:this.formObj},success(i){t.$Message[0===i.getret?"success":"error"](i.msg),0===i.getret&&(t.showDetail=!1,t.getDataList())}})},onEditorBlur(){},onEditorFocus(){},onEditorChange(){}}},p=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"zmiti-product-main-ui"},[a("div",{staticClass:"zmiti-list-main"},[a("header",{staticClass:"zmiti-tab-header"},[a("div",[t.companyname?a("span",[t._v(t._s(t.companyname)+" —— ")]):t._e(),t._v("产品管理")]),t._v(" "),a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.addAdmin}},[t._v("新增产品")])],1)]),t._v(" "),a("section",{staticClass:"zmiti-list-where"},[t._v("\n\t\t\t产品编号："),a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"产品编号"}}),t._v("\n\t\t\t产品简称："),a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"产品简称"}}),t._v(" "),a("Button",{attrs:{type:"primary"}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"zmiti-product-main zmiti-scroll ",style:{height:t.viewH-180+"px"}},[a("ul",t._l(t.dataSrouce,(function(i,e){return a("li",{key:e},[a("div",[a("router-link",{attrs:{to:i.managerurl+"/"+i.productid}},[t._v("\n\t\t\t\t\t\t\t"+t._s(i.productname)+" "),a("span",{staticClass:"zmt_iconfont",domProps:{innerHTML:t._s("&#xe64e;")}})])],1),t._v(" "),a("div",{staticStyle:{"max-height":"70px",overflow:"hidden"},domProps:{innerHTML:t._s(i.introduce)}}),t._v(" "),a("div",[a("div",[t._v("创建时间："+t._s(t.formatDate(i.createtime).substr(0,10)))]),t._v(" "),a("div",[a("Poptip",{attrs:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":function(a){return t.deletes(i.productid)}}},[a("span",{staticClass:"zmt_iconfont del",domProps:{innerHTML:t._s("&#xe616;")}})]),t._v(" "),a("span",{staticClass:"zmt_iconfont",domProps:{innerHTML:t._s("&#xe680;")},on:{click:function(a){return t.showEditPage(i)}}})],1)])])})),0)])]),t._v(" "),a("ZmitiMask",{on:{closeMaskPage:t.closeMaskPage},model:{value:t.showDetailPage,callback:function(i){t.showDetailPage=i},expression:"showDetailPage"}},[a("section",{staticClass:"zmiti-add-form zmiti-scroll",attrs:{slot:"mask-content"},slot:"mask-content"},[a("header",{staticClass:"zmiti-add-header"},[a("img",{attrs:{src:t.imgs.back,alt:""},on:{click:t.closeMaskPage}}),t._v(" "),a("span",[t._v("产品信息")])]),t._v(" "),a("div",{staticClass:"zmiti-product-avatar",on:{click:function(i){t.showAvatarModal=!0}}},[a("span",{staticClass:"zmt_iconfont",domProps:{innerHTML:t._s(t.formObj.icon)}}),t._v(" "),a("label",[t._v("更换头像")])]),t._v(" "),a("Form",{staticClass:"zmiti-add-form-C",attrs:{model:t.formObj,"label-width":120}},[a("FormItem",{attrs:{label:"产品名："}},[a("Input",{attrs:{placeholder:"产品名："},model:{value:t.formObj.productname,callback:function(i){t.$set(t.formObj,"productname",i)},expression:"formObj.productname"}})],1),t._v(" "),a("FormItem",{attrs:{label:"产品介绍："}},[a("quill-editor",{ref:"myQuillEditor",attrs:{"aria-placeholder":"123",options:t.editorOption},on:{blur:function(i){return t.onEditorBlur(i)},focus:function(i){return t.onEditorFocus(i)},change:function(i){return t.onEditorChange(i)}},model:{value:t.formObj.introduce,callback:function(i){t.$set(t.formObj,"introduce",i)},expression:"formObj.introduce"}})],1),t._v(" "),a("FormItem",{attrs:{label:"用户端链接："}},[a("Input",{attrs:{placeholder:"用户端链接："},model:{value:t.formObj.producturl,callback:function(i){t.$set(t.formObj,"producturl",i)},expression:"formObj.producturl"}})],1),t._v(" "),a("FormItem",{attrs:{label:"管理端链接："}},[a("Input",{attrs:{placeholder:"管理端链接："},model:{value:t.formObj.managerurl,callback:function(i){t.$set(t.formObj,"managerurl",i)},expression:"formObj.managerurl"}})],1),t._v(" "),a("FormItem",{attrs:{label:"状态："}},[a("RadioGroup",{model:{value:t.formObj.status,callback:function(i){t.$set(t.formObj,"status",i)},expression:"formObj.status"}},[a("Radio",{attrs:{value:0,label:0}},[t._v("禁用")]),t._v(" "),a("Radio",{attrs:{value:1,label:1}},[t._v("正常")])],1)],1)],1),t._v(" "),a("div",{staticClass:"zmiti-add-form-item zmiti-add-btns"},[a("Button",{attrs:{size:"large",type:"primary"},on:{click:t.action}},[t._v(t._s(t.formObj.productid?"保存":"确定"))])],1)],1)]),t._v(" "),a("Avatar",{attrs:{avatar:t.formObj.icon},on:{getAvatar:t.getAvatar},model:{value:t.showAvatarModal,callback:function(i){t.showAvatarModal=i},expression:"showAvatarModal"}})],1)};p._withStripped=!0;var f=a(18),v=!1;var h=function(t){v||(a(108),a(110))},b=Object(f.a)(u,p,[],!1,h,"data-v-db66f08c",null);b.options.__file="admin\\product\\index.vue";i.default=b.exports},20:function(t,i,a){var e=a(21);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a(17).default)("03927da0",e,!1,{})},21:function(t,i,a){(t.exports=a(1)()).push([t.i,"\n.zmiti-avatar-list[data-v-e6b7be7c]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-avatar-list span[data-v-e6b7be7c]{font-size:40px;margin-right:20px;cursor:pointer\n}\n.zmiti-avatar-list span.active[data-v-e6b7be7c]{color:#3390ff\n}\n",""])},22:function(t,i,a){"use strict";var e={props:{value:{type:Boolean},avatar:{type:String,default:""}},watch:{value(t){t||(this.chooseAvatar(),this.show=!1),this.show=t}},methods:{chooseAvatar(){this.$emit("getAvatar",this.avatarList[this.index]),this.$emit("input",!1)},closeModal(t){t||(this.chooseAvatar(),this.show=!1),this.show=t}},data:()=>({show:!0,index:-1,avatarList:["&#xe6a5;","&#xe6a4;","&#xe6a3;","&#xe6a2;","&#xe6a0;","&#xe661;"]}),mounted(){this.avatarList.forEach((t,i)=>{t===this.avatar&&(this.index=i)})}},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return t.value?a("div",[a("Modal",{attrs:{title:"更换头像",transfer:!0,"mask-closable":!1},on:{"on-visible-change":t.closeModal},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.chooseAvatar}},[t._v("确定")])],1),t._v(" "),a("div",{staticClass:"zmiti-avatar-list"},t._l(t.avatarList,(function(i,e){return a("span",{key:e,staticClass:"zmt_iconfont",class:{active:t.index===e},domProps:{innerHTML:t._s(i)},on:{click:function(i){t.index=e}}})})),0)])],1):t._e()};n._withStripped=!0;var o=a(18),r=!1;var s=function(t){r||a(20)},d=Object(o.a)(e,n,[],!1,s,"data-v-e6b7be7c",null);d.options.__file="common\\avatar\\index.vue";i.a=d.exports},23:function(t,i,a){"use strict";var e=a(0),n={props:{value:{type:Number,default:function(){return-1}},width:{type:Number,default:function(){return 500}}},watch:{value(t){this.showPannel=t>-1}},data:()=>({viewH:window.innerHeight,showPannel:!1}),methods:{change(t){},hidePannel(){this.showPannel=!1},afterLeave(){this.$emit("input",!1),this.$emit("closeMaskPage")}},mounted(){e.default.obserable.on("toggleMask",t=>{this.showPannel=t})}},o=function(){var t=this,i=t.$createElement;return(t._self._c||i)("Drawer",{attrs:{title:"",placement:"right",width:500,closable:!1},on:{"on-visible-change":t.change},model:{value:t.showPannel,callback:function(i){t.showPannel=i},expression:"showPannel"}},[t._t("mask-content")],2)};o._withStripped=!0;var r=a(18),s=!1;var d=function(t){s||a(24)},l=Object(r.a)(n,o,[],!1,d,"data-v-bc775556",null);l.options.__file="common\\mask\\index.vue";i.a=l.exports},24:function(t,i,a){var e=a(25);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a(17).default)("eaf42654",e,!1,{})},25:function(t,i,a){(t.exports=a(1)()).push([t.i,"\n.zmiti-mask-ui[data-v-bc775556]{position:fixed;z-index:1002;width:100%;height:100%;background:rgba(0,0,0,0.6);left:0;top:0\n}\n.zmiti-mask-ui .zmiti-mask-right[data-v-bc775556]{position:absolute;background:#fff;top:50px;right:0;overflow:auto;z-index:10\n}\n.zmiti-mask-ui .zmiti-mask-right.right-enter-active[data-v-bc775556],.zmiti-mask-ui .zmiti-mask-right.right-leave-active[data-v-bc775556]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-mask-ui .zmiti-mask-right.right-leave-to[data-v-bc775556],.zmiti-mask-ui .zmiti-mask-right.right-enter[data-v-bc775556]{-webkit-transform:translate3d(600px, 0, 0);transform:translate3d(600px, 0, 0)\n}\n.zmiti-mask-ui .lt-full[data-v-bc775556]{z-index:8;height:100%\n}\n",""])}}]);