(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{167:function(i,t,e){var o=e(168);"string"==typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);(0,e(6).default)("71d8326c",o,!1,{})},168:function(i,t,e){(i.exports=e(2)()).push([i.i,'/*.ant-btn:focus, .ant-btn:hover,.ant-input:focus, .ant-input:hover {\r\n    background-color: #fff;\r\n    border-color: #bf1616;\r\n    box-shadow: 0 0 0 2px rgba(191, 22, 22, 0.1);\r\n}*/\n.zmiti-basicconfig-main-ui[data-v-20b723fb] {\n  background: #f2f2f2;\n  box-sizing: border-box;\n  height: 99%;\n  width: 99%;\n  position: relative;\n  margin: 0 auto;\n  display: flex;\n  display: -webkit-flex;\n  flex-flow: row;\n}\n.zmiti-basicconfig-main-ui .zmiti-oss-title.active[data-v-20b723fb] {\n    color: #00c1de;\n}\n.zmiti-basicconfig-main-ui .zmiti-oss-used[data-v-20b723fb] {\n    width: 16px;\n    height: 16px;\n    background: #fff;\n    border: 1px solid #00c1de;\n    margin-top: 9px;\n    box-sizing: border-box;\n    cursor: pointer;\n    border-radius: 50%;\n    position: relative;\n}\n.zmiti-basicconfig-main-ui .zmiti-oss-used.active[data-v-20b723fb]:before {\n      content: "";\n      width: 10px;\n      height: 10px;\n      border-radius: 50%;\n      background: #00c1de;\n      position: absolute;\n      left: 2px;\n      top: 2px;\n}\n.zmiti-basicconfig-main-ui input[data-v-20b723fb] {\n    border: 1px solid red;\n    width: 94% !important;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main[data-v-20b723fb] {\n    box-sizing: border-box;\n    background: #fff;\n    margin: 0 auto;\n    flex: 2;\n    -webkit-flex: 2;\n    position: relative;\n    top: 5px;\n    display: flex;\n    display: -webkit-flex;\n    flex-flow: column;\n    display: flex;\n    display: -webkit-flex;\n    flex-flow: column;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main .zmiti-thumb-list > div[data-v-20b723fb] {\n      display: flex;\n      display: -webkit-flex;\n      flex-flow: row;\n      margin: 10px 0;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main .zmiti-thumb-list > div > div[data-v-20b723fb]:nth-of-type(1) {\n        width: 80px;\n        text-align: right;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main .zmiti-thumb-list .zmiti-thumb-item[data-v-20b723fb] {\n      margin: 10px 0;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main[data-v-20b723fb]:before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      border: 1px solid #ccc;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-20b723fb] {\n      z-index: 100;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main > div[data-v-20b723fb] {\n      margin: 10px 0 0  10px;\n      position: relative;\n      flex: 1;\n      -webkit-flex: 1;\n}\n.zmiti-basicconfig-main-ui .zmiti-list-main > div .zmiti-meet-form[data-v-20b723fb] {\n        width: 100%;\n        margin: 0px auto;\n        padding: 20px 40px;\n        height: 600px;\n        overflow: auto;\n}\n.ivu-icon-ios-help-circle[data-v-20b723fb] {\n  left: 25px;\n}\n.ivu-radio-inner[data-v-20b723fb]:after {\n  border-radius: 10px !important;\n}\n',""])},169:function(i,t,e){var o=e(170);"string"==typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);(0,e(6).default)("3bfbdc2c",o,!1,{})},170:function(i,t,e){(i.exports=e(2)()).push([i.i,"\n.ivu-input{\n\twidth: 98% ;\n}\n",""])},36:function(i,t,e){"use strict";e.r(t);var o=e(3),a=(o.a.adminActions,o.a.companyActions,o.a.basicConfigActions),s={props:["obserable"],name:"zmitiindex",data:()=>({tabIndex:[0,-1],showAvatarModal:!1,visible:!1,formBasicConfig:{info:{is_oss_upload:1,file_path:"",oss_selected:1,thumb_list:[{fix:"",w:0,height:0}],oss_list:{}},is_thumb_custom:1,is_cut:1,is_user_audit:0,is_upfile:1,is_mergeupfile:1,video_ext_list:"",is_company_audit:0,default_password:window.config.defaultPass,thumb_list:[{fix:[],w:0,height:0}]},imgs:window.imgs,viewH:window.innerHeight,viewW:window.innerWidth,condition:{page_index:0,page_size:10},userinfo:{}}),components:{},beforeCreate(){},mounted(){window.s=this,this.userinfo=o.a.getAdminUserInfo(),this.getBasicConfig()},watch:{showDetail(i){i?this.showDetailPage=!0:setTimeout(()=>{this.showDetailPage=!1},310)}},methods:{setOssStatus(i){this.formBasicConfig.info.oss_selected=i},thumbItemAction(i,t){switch(t){case"add":i.push({fix:[],w:0,height:0});break;case"delete":i.length>0&&i.pop()}},serverAction(i,t){switch(t){case"add":i.push({accessKeyId:"",bucket:"",endpoint:"",idx:"",region:""});break;case"delete":i.length>1&&i.pop()}},thumbAction(i,t){switch(t){case"add":if(!i.slice(-1)[0]&&i.length)return void this.$Message.error("请先填写前缀");i.push("");break;case"delete":i.length>0&&i.pop()}},save(){var i=this;i.formBasicConfig.info.accessKeySecret=(i.formBasicConfig.info.accessKeySecret||"").replace(/\s+/g,""),o.a.adminAjax({remark:"updateBasicConfig",data:{configname:"base_config",action:a.updateBasicConfig.action,info:i.formBasicConfig.info},success(t){i.$Message[0===t.getret?"success":"error"](t.msg)}})},getBasicConfig(){var i=this;o.a.adminAjax({remark:"getBasicConfig",data:{action:a.getBasicConfig.action,configname:"base_config"},success(t){0===t.getret&&(i.formBasicConfig=t,i.formBasicConfig.info.oss_selected=i.formBasicConfig.info.oss_selected||1)}})}}},n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"zmiti-basicconfig-main-ui"},[e("div",{staticClass:"zmiti-list-main"},[i._m(0),i._v(" "),e("div",{staticClass:"zmiti-scroll",style:{height:i.viewH-155+"px",width:"99%",overflow:"auto",margin:"6px auto 0"}},[e("h2",{staticStyle:{height:"50px"}}),i._v(" "),e("Form",{staticStyle:{width:"90%",margin:"0 auto"},attrs:{model:i.formBasicConfig,"label-width":150}},[e("FormItem",{attrs:{label:"是否OSS上传："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_oss_upload,callback:function(t){i.$set(i.formBasicConfig.info,"is_oss_upload",t)},expression:"formBasicConfig.info.is_oss_upload"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("OSS上传")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("本地上传")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"上传图片路径："}},[e("Input",{attrs:{placeholder:"上传图片路径："},model:{value:i.formBasicConfig.info.file_path,callback:function(t){i.$set(i.formBasicConfig.info,"file_path",t)},expression:"formBasicConfig.info.file_path"}})],1),i._v(" "),e("FormItem",{attrs:{label:"是否生成缩略图："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_thumb,callback:function(t){i.$set(i.formBasicConfig.info,"is_thumb",t)},expression:"formBasicConfig.info.is_thumb"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"缩略图列表："}},[e("div",{staticStyle:{height:"20px"}}),i._v(" "),i._l(i.formBasicConfig.info.thumb_list,function(t,o){return e("div",{key:o,staticClass:"zmiti-thumb-list"},[e("div",[e("div",[i._v("前缀列表：")]),i._v(" "),e("div",{staticClass:"zmiti-thumb-item"},[e("Input",{attrs:{placeholder:"前缀名称"},model:{value:t.fix,callback:function(e){i.$set(t,"fix",e)},expression:"thumb.fix"}})],1)]),i._v(" "),e("div",[e("div",[i._v("宽：")]),i._v(" "),e("Input",{attrs:{placeholder:"缩略图宽，默认为800，设置为0时，按>0的进行缩略"},model:{value:t.w,callback:function(e){i.$set(t,"w",e)},expression:"thumb.w"}})],1),i._v(" "),e("div",[e("div",[i._v("高：")]),i._v(" "),e("Input",{attrs:{placeholder:"缩略图高，默认为800，设置为0时，按>0的进行缩略"},model:{value:t.h,callback:function(e){i.$set(t,"h",e)},expression:"thumb.h"}})],1),i._v(" "),[e("Button",{attrs:{type:"primary"},on:{click:function(t){return i.thumbItemAction(i.formBasicConfig.info.thumb_list,"add")}}},[i._v("添加")]),i._v(" "),e("Button",{on:{click:function(t){return i.thumbItemAction(i.formBasicConfig.info.thumb_list,"delete")}}},[i._v("删除")])]],2)})],2),i._v(" "),e("FormItem",{attrs:{label:"文件服务器地址："}},[e("Input",{attrs:{placeholder:"文件服务器地址："},model:{value:i.formBasicConfig.info.file_server_url,callback:function(t){i.$set(i.formBasicConfig.info,"file_server_url",t)},expression:"formBasicConfig.info.file_server_url"}})],1),i._v(" "),e("FormItem",{attrs:{label:"OSS服务器地址："}},[e("Input",{attrs:{placeholder:"OSS服务器地址："},model:{value:i.formBasicConfig.info.oss_server_url,callback:function(t){i.$set(i.formBasicConfig.info,"oss_server_url",t)},expression:"formBasicConfig.info.oss_server_url"}})],1),i._v(" "),e("FormItem",{attrs:{label:"是否自定义缩略图："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_thumb_custom,callback:function(t){i.$set(i.formBasicConfig.info,"is_thumb_custom",t)},expression:"formBasicConfig.info.is_thumb_custom"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"是否审核会员注册："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_user_audit,callback:function(t){i.$set(i.formBasicConfig.info,"is_user_audit",t)},expression:"formBasicConfig.info.is_user_audit"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"是否审核单位注册："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_company_audit,callback:function(t){i.$set(i.formBasicConfig.info,"is_company_audit",t)},expression:"formBasicConfig.info.is_company_audit"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"设置用户初始密码："}},[e("Input",{attrs:{placeholder:"设置用户初始密码："},model:{value:i.formBasicConfig.info.default_password,callback:function(t){i.$set(i.formBasicConfig.info,"default_password",t)},expression:"formBasicConfig.info.default_password"}})],1),i._v(" "),e("FormItem",{attrs:{label:"是否开启切片上传："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_mergeupfile,callback:function(t){i.$set(i.formBasicConfig.info,"is_mergeupfile",t)},expression:"formBasicConfig.info.is_mergeupfile"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"是否开启文件上传："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_upfile,callback:function(t){i.$set(i.formBasicConfig.info,"is_upfile",t)},expression:"formBasicConfig.info.is_upfile"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"是否开启裁切图片功能："}},[e("RadioGroup",{model:{value:i.formBasicConfig.info.is_cut,callback:function(t){i.$set(i.formBasicConfig.info,"is_cut",t)},expression:"formBasicConfig.info.is_cut"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("是")]),i._v(" "),e("Radio",{attrs:{value:0,label:0}},[i._v("否")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"文件格式列表："}},[e("Input",{attrs:{placeholder:"文件格式列表以“,”分隔 统一小写【zip,rar,doc,docx,xlsx,xls】"},model:{value:i.formBasicConfig.info.file_ext_list,callback:function(t){i.$set(i.formBasicConfig.info,"file_ext_list",t)},expression:"formBasicConfig.info.file_ext_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"最大文件大小："}},[e("Input",{attrs:{placeholder:"最大文件大小与文件格式相对应以“,”分隔(字节)"},model:{value:i.formBasicConfig.info.file_size_list,callback:function(t){i.$set(i.formBasicConfig.info,"file_size_list",t)},expression:"formBasicConfig.info.file_size_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"视频文件格式："}},[e("Input",{attrs:{placeholder:"视频文件格式："},model:{value:i.formBasicConfig.info.video_ext_list,callback:function(t){i.$set(i.formBasicConfig.info,"video_ext_list",t)},expression:"formBasicConfig.info.video_ext_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"最大视频文件大小："}},[e("Input",{attrs:{placeholder:"最大视频文件大小,与文件格式相对应："},model:{value:i.formBasicConfig.info.video_size_list,callback:function(t){i.$set(i.formBasicConfig.info,"video_size_list",t)},expression:"formBasicConfig.info.video_size_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"图片文件格式："}},[e("Input",{attrs:{placeholder:"图片文件格式："},model:{value:i.formBasicConfig.info.image_ext_list,callback:function(t){i.$set(i.formBasicConfig.info,"image_ext_list",t)},expression:"formBasicConfig.info.image_ext_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"最大图片文件大小："}},[e("Input",{attrs:{placeholder:"最大图片文件大小,与文件格式相对应："},model:{value:i.formBasicConfig.info.image_size_list,callback:function(t){i.$set(i.formBasicConfig.info,"image_size_list",t)},expression:"formBasicConfig.info.image_size_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"音频文件格式："}},[e("Input",{attrs:{placeholder:"音频文件格式："},model:{value:i.formBasicConfig.info.audio_ext_list,callback:function(t){i.$set(i.formBasicConfig.info,"audio_ext_list",t)},expression:"formBasicConfig.info.audio_ext_list"}})],1),i._v(" "),e("FormItem",{attrs:{label:"最大音频文件大小："}},[e("Input",{attrs:{placeholder:"最大音频文件大小,与文件格式相对应："},model:{value:i.formBasicConfig.info.audio_size_list,callback:function(t){i.$set(i.formBasicConfig.info,"audio_size_list",t)},expression:"formBasicConfig.info.audio_size_list"}})],1),i._v(" "),i._l(i.formBasicConfig.info.oss_list,function(t,o){return e("div",{key:o},[e("h2",{staticClass:"zmiti-oss-title",class:{active:i.formBasicConfig.info.oss_selected===o+1}},[i._v("第"+i._s(o+1)+"个OSS配置")]),i._v(" "),e("FormItem",{attrs:{label:"索引："}},[e("Input",{attrs:{placeholder:"索引："},model:{value:t.idx,callback:function(e){i.$set(t,"idx",e)},expression:"list.idx"}})],1),i._v(" "),e("FormItem",{attrs:{label:"存储空间："}},[e("Input",{attrs:{placeholder:"存储空间："},model:{value:t.bucket,callback:function(e){i.$set(t,"bucket",e)},expression:"list.bucket"}})],1),i._v(" "),e("FormItem",{attrs:{label:"地域或者数据中心："}},[e("Input",{attrs:{placeholder:"地域或者数据中心："},model:{value:t.region,callback:function(e){i.$set(t,"region",e)},expression:"list.region"}})],1),i._v(" "),e("FormItem",{attrs:{label:"OSS 访问域名："}},[e("Input",{attrs:{placeholder:"OSS 访问域名："},model:{value:t.endpoint,callback:function(e){i.$set(t,"endpoint",e)},expression:"list.endpoint"}})],1),i._v(" "),e("FormItem",{attrs:{label:"oss_accesskeyid："}},[e("Input",{attrs:{placeholder:"oss_accesskeyid："},model:{value:t.accessKeyId,callback:function(e){i.$set(t,"accessKeyId",e)},expression:"list.accessKeyId"}})],1),i._v(" "),e("FormItem",{attrs:{label:"访问密钥："}},[e("Input",{attrs:{placeholder:"访问密钥："},model:{value:t.accessKeySecret,callback:function(e){i.$set(t,"accessKeySecret",e)},expression:"list.accessKeySecret"}})],1),i._v(" "),e("FormItem",{attrs:{label:"是否启用："}},[e("div",{staticClass:"zmiti-oss-used",class:{active:i.formBasicConfig.info.oss_selected===o+1},on:{click:function(t){return i.setOssStatus(o+1)}}})]),i._v(" "),e("FormItem",{attrs:{label:""}},[e("Button",{attrs:{type:"primary"},on:{click:function(t){return i.serverAction(i.formBasicConfig.info.oss_list,"add")}}},[i._v("添加")]),i._v(" "),e("Button",{attrs:{disabled:i.formBasicConfig.info.oss_list.length<=1},on:{click:function(t){return i.serverAction(i.formBasicConfig.info.oss_list,"delete")}}},[i._v("删除")])],1)],1)}),i._v(" "),e("FormItem",{attrs:{label:""}},[e("Button",{attrs:{type:"primary"},on:{click:i.save}},[i._v("保存")])],1)],2)],1)])])};n._withStripped=!0;var l=e(7),r=!1;var f=function(i){r||(e(167),e(169))},c=Object(l.a)(s,n,[function(){var i=this.$createElement,t=this._self._c||i;return t("header",{staticClass:"zmiti-tab-header"},[t("div",[this._v("基础配置")]),this._v(" "),t("div")])}],!1,f,"data-v-20b723fb",null);c.options.__file="admin\\basicconfig\\index.vue";t.default=c.exports}}]);