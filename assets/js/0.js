(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(n,i,t){"use strict";t(1).default.directive("press",{bind:function(n,i){n.addEventListener("mousedown",i=>{n.style.WebkitTransform="scale(.98) translateY(4px)",n.style.transform="scale(.98) translateY(4px)"}),n.addEventListener("mouseup",i=>{n.style.WebkitTransform="scale(1) translateY(0)",n.style.transform="scale(1) translateY(0)"})}})},23:function(n,i,t){"use strict";t.r(i);t(69);var e=t(3);t(71);!function(n){const i=42,t=10,e=310,o=155,r=Math.PI,s=i+2*t;function a(n,i){return Math.round(Math.random()*(i-n)+n)}function l(n){return document.createElement(n)}function c(n,i){n.classList.add(i)}function d(){return"https://picsum.photos/300/150/?image="+a(0,100)}function m(n,e,o,s){n.beginPath(),n.moveTo(o,s),n.lineTo(o+i/2,s),n.arc(o+i/2,s-t+2,t,0,2*r),n.lineTo(o+i/2,s),n.lineTo(o+i,s),n.lineTo(o+i,s+i/2),n.arc(o+i+t-2,s+i/2,t,0,2*r),n.lineTo(o+i,s+i/2),n.lineTo(o+i,s+i),n.lineTo(o,s+i),n.lineTo(o,s),n.fillStyle="#fff",n[e](),n.beginPath(),n.arc(o,s+i/2,t,1.5*r,.5*r),n.globalCompositeOperation="xor",n.fill()}function p(n,i){return n+i}function g(n){return n*n}class h{constructor(n,i,t){this.el=n,this.success=i,this.fail=t}init(){this.initDOM(),this.initImg(),this.draw(),this.bindEvents()}initDOM(){const n=function(n,i){const t=l("canvas");return t.width=n,t.height=i,t}(e,o),i=n.cloneNode(!0),t=l("div"),r=l("div"),s=l("div"),a=l("div"),c=l("span"),d=l("span");i.className="block",t.className="sliderContainer",r.className="refreshIcon",s.className="sliderMask",a.className="slider",c.className="sliderIcon",d.innerHTML="向右滑动滑块填充拼图",d.className="sliderText";const m=this.el;m.appendChild(n),m.appendChild(r),m.appendChild(i),a.appendChild(c),s.appendChild(a),t.appendChild(s),t.appendChild(d),m.appendChild(t),Object.assign(this,{canvas:n,block:i,sliderContainer:t,refreshIcon:r,slider:a,sliderMask:s,sliderIcon:c,text:d,canvasCtx:n.getContext("2d"),blockCtx:i.getContext("2d")})}initImg(){const n=function(n){const i=l("img");return i.crossOrigin="Anonymous",i.onload=n,i.onerror=()=>{i.src=d()},i.src=d(),i}(()=>{this.canvasCtx.drawImage(n,0,0,e,o),this.blockCtx.drawImage(n,0,0,e,o);const i=this.y-2*t+2,r=this.blockCtx.getImageData(this.x,i,s,s);this.block.width=s,this.blockCtx.putImageData(r,0,i)});this.img=n}draw(){this.x=a(s+10,e-(s+10)),this.y=a(10+2*t,o-(s+10)),m(this.canvasCtx,"fill",this.x,this.y),m(this.blockCtx,"clip",this.x,this.y)}clean(){this.canvasCtx.clearRect(0,0,e,o),this.blockCtx.clearRect(0,0,e,o),this.block.width=e}bindEvents(){this.el.onselectstart=()=>!1,this.refreshIcon.onclick=()=>{this.reset()};let n,i,t=[],o=!1;this.slider.addEventListener("mousedown",function(t){n=t.x,i=t.y,o=!0}),document.addEventListener("mousemove",r=>{if(!o)return!1;const s=r.x-n,a=r.y-i;if(s<0||s+38>=e)return!1;this.slider.style.left=s+"px";var l=(e-40-20)/(e-40)*s;this.block.style.left=l+"px",c(this.sliderContainer,"sliderContainer_active"),this.sliderMask.style.width=s+"px",t.push(a)}),document.addEventListener("mouseup",i=>{if(!o)return!1;if(o=!1,i.x==n)return!1;!function(n,i){n.classList.remove(i)}(this.sliderContainer,"sliderContainer_active"),this.trail=t;const{spliced:e,TuringTest:r}=this.verify();e?r?(c(this.sliderContainer,"sliderContainer_success"),this.success&&this.success()):(c(this.sliderContainer,"sliderContainer_fail"),this.text.innerHTML="鍐嶈瘯涓€娆�",this.reset()):(c(this.sliderContainer,"sliderContainer_fail"),this.fail&&this.fail(),setTimeout(()=>{this.reset()},1e3))})}verify(){const n=this.trail,i=n.reduce(p)/n.length,t=n.map(n=>n-i),e=Math.sqrt(t.map(g).reduce(p)/n.length),o=parseInt(this.block.style.left);return{spliced:Math.abs(o-this.x)<10,TuringTest:i!==e}}reset(){this.sliderContainer.className="sliderContainer",this.slider.style.left=0,this.block.style.left=0,this.sliderMask.style.width=0,this.clean(),this.img.src=d(),this.draw()}}n.jigsaw={init:function(n,i,t){new h(n,i,t).init()}}}(window);t(21);var o=e.a.userActions,r={props:["obserable"],name:"zmitiindex",data:()=>({showJigsaw:!1,imgs:window.imgs,username:"",userFocus:!1,passFocus:!1,password:"",loginError:"",checked:!1,isLogined:!1,isMove:!1,showLoading:!1,isNotChrome:!1,showError:!1,errorMsg:"",viewH:document.documentElement.clientHeight}),components:{},beforeCreate(){},methods:{toastError(n="用户名不能为空"){this.loginError=n,setTimeout(()=>{this.loginError=""},2e3)},login(){var n=this;if(this.username)if(this.password){this.showLoading=!0;var i=this;e.a.ajax({remark:"userLogin",data:{action:o.userLogin.action,username:n.username,password:n.password},success(t){if(i.showLoading=!1,7!==t.getret)if(t.verify>=3)i.showJigsaw=!0;else if(0===t.getret||100===t.getret){t.username=n.username,n.checked?(window.localStorage.setItem("zmiti_user_username",n.username),window.localStorage.setItem("zmiti_user_password",n.password)):(window.localStorage.setItem("zmiti_user_username",""),window.localStorage.setItem("zmiti_user_password","")),n.$Message.success("登录成功~"),t.info.company_list.length,window.localStorage.setItem("login",JSON.stringify(t)),window.localStorage.setItem("currentCompany",JSON.stringify(t.info.company_list[0])),n.$router.push({path:"/home"}),setTimeout(()=>{window.location.reload()},30),n.isLogined=!0}else n.$Message.error(t.msg);else n.$Message.error(t.msg)}})}else this.toastError("密码不能为空");else this.toastError()},checkCache(){var n=window.localStorage.getItem("zmiti_user_username"),i=window.localStorage.getItem("zmiti_user_password");n&&i&&(this.username=n,this.password=i,this.checked=!0)}},mounted(){this.checkCache();var n=navigator.userAgent.toLowerCase();this.isNotChrome=!n.match(/chrome\/([\d.]+)/),this.$nextTick(()=>{window.jigsaw.init(this.$refs.jigsaw,function(){this.showJigsaw=!1}.bind(this))})}},s=function(){var n=this,i=n.$createElement,t=n._self._c||i;return t("div",{staticClass:"zmiti-login-ui lt-full",class:{active:n.showJigsaw},style:{background:"url("+n.imgs.loginBg+") no-repeat center center",backgroundSize:"cover"}},[t("section"),n._v(" "),t("section",[t("div",{staticClass:"zmiti-login-C"},[t("h2",[n._v("智媒体用户管理系统登陆")]),n._v(" "),t("div",{staticClass:"zmiti-login-form"},[t("div",{class:{active:n.userFocus}},[t("label",[t("img",{attrs:{src:n.imgs.loginPerson,alt:""}}),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:n.username},on:{focus:function(i){n.userFocus=!0},blur:function(i){n.userFocus=!1},input:function(i){i.target.composing||(n.username=i.target.value)}}})]),n._v(" "),n.loginError?t("div",{staticClass:"zmiti-login-error"},[n._v(n._s(n.loginError))]):n._e()]),n._v(" "),t("div",{class:{active:n.passFocus}},[t("label",[t("img",{attrs:{src:n.imgs.loginLock,alt:""}}),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:n.password},on:{focus:function(i){n.passFocus=!0},blur:function(i){n.passFocus=!1},keydown:function(i){return i.type.indexOf("key")||13===i.keyCode?n.login(i):null},input:function(i){i.target.composing||(n.password=i.target.value)}}})])]),n._v(" "),t("div",{staticClass:"zmiti-remember-pass"},[t("label",[t("router-link",{attrs:{to:"register"}},[n._v("用户注册")])],1),n._v(" "),t("label",[t("Checkbox",{model:{value:n.checked,callback:function(i){n.checked=i},expression:"checked"}},[n._v("记住密码")])],1)]),n._v(" "),t("div",{directives:[{name:"press",rawName:"v-press"}],staticClass:"zmiti-login-btn"},[t("div",{on:{click:n.login}},[n._v("登  录 "),n.showLoading?t("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading"}}):n._e()],1)])]),n._v(" "),n.isNotChrome?t("div",{staticClass:"zmiti-browner-tip"},[t("img",{attrs:{draggable:"false",src:n.imgs.brower,alt:""}})]):n._e()]),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.showJigsaw,expression:"showJigsaw"}],ref:"jigsaw",staticClass:"zmiti-jigsaw"})])])};s._withStripped=!0;var a=t(7),l=!1;var c=function(n){l||t(67)},d=Object(a.a)(r,s,[],!1,c,null,null);d.options.__file="components\\login\\index.vue";i.default=d.exports},67:function(n,i,t){var e=t(68);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);(0,t(6).default)("77f0d809",e,!1,{})},68:function(n,i,t){(n.exports=t(2)()).push([n.i,"\n.demo-spin-icon-load{\n        animation: ani-demo-spin 1s linear infinite;\n}\n@keyframes ani-demo-spin {\nfrom { transform: rotate(0deg);\n}\n50%  { transform: rotate(180deg);\n}\nto   { transform: rotate(360deg);\n}\n}\n\n ",""])},69:function(n,i,t){var e=t(70);"string"==typeof e&&(e=[[n.i,e,""]]);t(8)(e,{});e.locals&&(n.exports=e.locals)},70:function(n,i,t){(n.exports=t(2)()).push([n.i,"/*.ant-btn:focus, .ant-btn:hover,.ant-input:focus, .ant-input:hover {\r\n    background-color: #fff;\r\n    border-color: #bf1616;\r\n    box-shadow: 0 0 0 2px rgba(191, 22, 22, 0.1);\r\n}*/\n.lt-full {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.zmiti-text-overflow {\n  overflow: hidden;\n  white-space: nowrap;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  -webkit-text-overflow: ellipsis;\n}\n\n.zmiti-play {\n  width: .8rem;\n  height: .8rem;\n  border-radius: 50%;\n  position: fixed;\n  z-index: 1000;\n  right: .5rem;\n  top: .5rem;\n}\n\n.zmiti-play.rotate {\n  -webkit-animation: rotate 5s linear infinite;\n  animation: rotate 5s linear infinite;\n}\n\n.symbin-left {\n  float: left !important;\n}\n\n.symbin-right {\n  float: right !important;\n}\n\n@-webkit-keyframes rotate {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n.zmiti-login-ui {\n  display: flex;\n  display: -webkit-flex;\n  flex-flow: row;\n}\n\n.zmiti-login-ui > section {\n  width: 60%;\n  display: flex;\n  display: -webkit-flex;\n  flex-flow: row;\n  -webkit-justify-content: flex-start;\n  justify-content: flex-start;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.zmiti-login-ui > section .zmiti-login-C {\n  width: 400px;\n  height: 380px;\n  background: #fff;\n  border-radius: 20px;\n  position: relative;\n  left: 100px;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-title {\n  margin-bottom: 7vh;\n}\n\n.zmiti-login-ui > section .zmiti-login-C > h2 {\n  color: #ff6801;\n  font-size: 30px;\n  margin: 30px 0;\n  text-align: center;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(1), .zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(2) {\n  background: #f9fcfc;\n  height: 44px;\n  border: 1px solid #ccc;\n  line-height: 44px;\n  padding: 0 20px;\n  width: 90%;\n  margin-left: 5%;\n  margin-top: 30px;\n  border-radius: 20px;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(1) .zmiti-login-error, .zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(2) .zmiti-login-error {\n  color: #f00;\n  margin-top: -12px;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(1).active, .zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(2).active {\n  border: 1px solid #ff6801;\n  color: #ff6801;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(1).active input::-webkit-input-placeholder, .zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(2).active input::-webkit-input-placeholder {\n  color: #ff6801;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(1).active input, .zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div:nth-of-type(2).active input {\n  color: #ff6801;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div.zmiti-remember-pass {\n  width: 90%;\n  margin-left: 5%;\n  line-height: 40px;\n  text-align: right;\n  display: flex;\n  display: -webkit-flex;\n  flex-flow: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div.zmiti-remember-pass a {\n  color: #333;\n  text-decoration: underline;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div.zmiti-remember-pass label {\n  display: block;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div.zmiti-login-btn {\n  background: #ff6801;\n  margin-top: 30px;\n  color: #fff;\n  width: 90%;\n  margin-left: 5%;\n  text-align: center;\n  height: 44px;\n  line-height: 44px;\n  border-radius: 20px;\n  font-size: 24px;\n  cursor: pointer;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div input {\n  border: none;\n  height: 30px;\n  background: transparent;\n  outline: none;\n  width: 80%;\n  height: 36px;\n  border-left: 1px solid #ccc;\n  padding-left: 10px;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form > div input:-webkit-autofill {\n  box-shadow: 0 0 0px 1000px white inset !important;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-login-form img {\n  width: 30px;\n}\n\n.zmiti-login-ui > section .zmiti-login-C .zmiti-browner-tip {\n  text-align: center;\n  color: #fff;\n  margin-top: 30px;\n  font-size: 14px;\n  position: absolute;\n  top: -100px;\n  -webkit-animation: 1s flash infinite alternate;\n  animation: 1s flash infinite alternate;\n}\n\n@-webkit-keyframes flash {\n  to {\n    opacity: .2;\n  }\n}\n\n@keyframes flash {\n  to {\n    opacity: .2;\n  }\n}\n\n@-moz-keyframes flash {\n  to {\n    opacity: .2;\n  }\n}\n\n.zmiti-login-ui > section .zmiti-copyright {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  text-align: center;\n  height: 50px;\n  line-height: 50px;\n  color: #fff;\n  left: 0;\n  background: #cc0000;\n}\n\n.zmiti-login-ui .zmiti-jigsaw {\n  position: absolute;\n  left: 50%;\n  z-index: 11;\n  margin-left: 145px;\n  background: #fff;\n}\n\n.zmiti-login-ui .zmiti-jigsaw::before {\n  content: '';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  border-radius: 2px;\n  top: 0;\n  background: #fff;\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n  z-index: -1;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);\n}\n\n.zmiti-login-ui.active::before {\n  content: \"\";\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  z-index: 10;\n}\n",""])},71:function(n,i,t){var e=t(72);"string"==typeof e&&(e=[[n.i,e,""]]);t(8)(e,{});e.locals&&(n.exports=e.locals)},72:function(n,i,t){(n.exports=t(2)()).push([n.i,".block {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0\r\n}\r\n\r\n.sliderContainer {\r\n    position: relative;\r\n    text-align: center;\r\n    width: 310px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    margin-top: 15px;\r\n    background: #f7f9fa;\r\n    color: #45494c;\r\n    border: 1px solid #e4e7eb\r\n}\r\n\r\n.sliderContainer_active .slider {\r\n    height: 38px;\r\n    top: -1px;\r\n    border: 1px solid #1991fa\r\n}\r\n\r\n.sliderContainer_active .sliderMask {\r\n    height: 38px;\r\n    border-width: 1px\r\n}\r\n\r\n.sliderContainer_success .slider {\r\n    height: 38px;\r\n    top: -1px;\r\n    border: 1px solid #52ccba;\r\n    background-color: #52ccba !important\r\n}\r\n\r\n.sliderContainer_success .sliderMask {\r\n    height: 38px;\r\n    border: 1px solid #52ccba;\r\n    background-color: #d2f4ef\r\n}\r\n\r\n.sliderContainer_success .sliderIcon {\r\n    background-position: 0 0 !important\r\n}\r\n\r\n.sliderContainer_fail .slider {\r\n    height: 38px;\r\n    top: -1px;\r\n    border: 1px solid #f57a7a;\r\n    background-color: #f57a7a !important\r\n}\r\n\r\n.sliderContainer_fail .sliderMask {\r\n    height: 38px;\r\n    border: 1px solid #f57a7a;\r\n    background-color: #fce1e1\r\n}\r\n\r\n.sliderContainer_fail .sliderIcon {\r\n    background-position: 0 -83px !important\r\n}\r\n\r\n.sliderContainer_active .sliderText,\r\n.sliderContainer_success .sliderText,\r\n.sliderContainer_fail .sliderText {\r\n    display: none\r\n}\r\n\r\n.sliderMask {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    height: 40px;\r\n    border: 0 solid #1991fa;\r\n    background: #d1e9fe\r\n}\r\n\r\n.slider {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 40px;\r\n    height: 40px;\r\n    background: #fff;\r\n    box-shadow: 0 0 3px rgba(0, 0, 0, .3);\r\n    cursor: pointer;\r\n    transition: background .2s linear\r\n}\r\n\r\n.slider:hover {\r\n    background: #1991fa\r\n}\r\n\r\n.slider:hover .sliderIcon {\r\n    background-position: 0 -13px\r\n}\r\n\r\n.sliderIcon {\r\n    position: absolute;\r\n    top: 15px;\r\n    left: 13px;\r\n    width: 14px;\r\n    height: 10px;\r\n    background: url(http://cstaticdun.126.net//2.6.3/images/icon_light.f13cff3.png) 0 -26px;\r\n    background-size: 34px 471px\r\n}\r\n\r\n.refreshIcon {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: 34px;\r\n    height: 34px;\r\n    cursor: pointer;\r\n    background: url(http://cstaticdun.126.net//2.6.3/images/icon_light.f13cff3.png) 0 -437px;\r\n    background-size: 34px 471px\r\n}",""])}}]);