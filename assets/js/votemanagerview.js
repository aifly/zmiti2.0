(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{682:function(t,i,e){var o=e(683);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e(6).default)("3f1842cf",o,!1,{})},683:function(t,i,e){(t.exports=e(4)()).push([t.i,"\ntextarea.ivu-input{resize: none;\n}\n.zmiti-options-item-subcon textarea\n{\n\theight: 80px;\n\tborder-radius: 0;\n}\n",""])},684:function(t,i,e){var o=e(685);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e(6).default)("36a22fa6",o,!1,{})},685:function(t,i,e){(t.exports=e(4)()).push([t.i,"\n.zmiti-votemanagerview-main-ui[data-v-5108ebbc]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-votemanagerview-main-ui .zmiti-list-main[data-v-5108ebbc]{box-sizing:border-box;background:#fff;margin:0 auto\n}\n.zmiti-votemanagerview-main-ui .zmiti-submit-main[data-v-5108ebbc]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-votemanagerview-main-ui .zmiti-submit-main>div[data-v-5108ebbc]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-votemanagerview-main-ui .zmiti-submit-main .zmiti-submit-table[data-v-5108ebbc]{width:98%;margin:0 auto\n}\n.zmiti-add-form[data-v-5108ebbc]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-add-form .zmiti-safe-content[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-5108ebbc]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-5108ebbc]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-5108ebbc]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-add-form.detail-enter-active[data-v-5108ebbc],.zmiti-add-form.detail-leave-active[data-v-5108ebbc]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-add-form.detail-enter[data-v-5108ebbc],.zmiti-add-form.detail-leave-to[data-v-5108ebbc]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-add-form .zmiti-submit-avatar[data-v-5108ebbc]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-add-form .zmiti-submit-avatar label[data-v-5108ebbc]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-add-form .zmiti-submit-avatar span[data-v-5108ebbc]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-add-form .zmiti-add-form-C[data-v-5108ebbc]{margin:10px auto 2px;width:90%\n}\n.zmiti-add-form .zmiti-add-form-item[data-v-5108ebbc]{line-height:50px;height:50px\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-5108ebbc]{text-align:center;position:relative;z-index:10\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-5108ebbc]{margin:0 20px;padding:2px 20px\n}\n.zmiti-add-form .zmiti-add-form-item input[data-v-5108ebbc]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n.zmiti-inforuserlist-select ul[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row;flex-wrap:wrap\n}\n.zmiti-inforuserlist-select ul li[data-v-5108ebbc]{width:120px\n}\n.zmiti-select-column[data-v-5108ebbc]{padding:10px\n}\n.zmiti-transfer-userlist[data-v-5108ebbc]{width:435px;margin:0 auto\n}\n.zmiti-votemanagerviewquestion-list[data-v-5108ebbc]{margin:20px\n}\n.zmiti-submit-main[data-v-5108ebbc]{overflow:auto\n}\n.zmiti-votemanagerview-options[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row;align-items:center;margin-bottom:5px\n}\n.zmiti-votemanagerview-options .zmiti-options-item[data-v-5108ebbc]{flex:1\n}\n.zmiti-votemanagerview-options .zmiti-options-item.zmiti-options-item-imgurl[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row;align-items:center\n}\n.zmiti-votemanagerview-options .zmiti-options-btns[data-v-5108ebbc]{width:80px\n}\n.zmiti-votemanagerview-options .ivu-icon[data-v-5108ebbc]{cursor:pointer\n}\n.zmiti-question-items[data-v-5108ebbc]{border-radius:5px;border:1px solid #cccccc;margin:10px 20px;background-color:#ffffff;padding:10px 10px 0 10px\n}\n.zmiti-question-items .zmiti-question-h1[data-v-5108ebbc]{margin-bottom:8px;display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-question-items .zmiti-question-h1 .zmiti-block-oper[data-v-5108ebbc]{width:40px;color:#2d8cf0;text-align:center;margin-left:auto\n}\n.zmiti-question-items .zmiti-question-h1 .zmiti-block-oper span[data-v-5108ebbc]{cursor:pointer\n}\n.zmiti-question-items .zmiti-suboption-img[data-v-5108ebbc]{border:1px solid #e8eaec\n}\n.zmiti-question-items .zmiti-question-ulist[data-v-5108ebbc]{flex:1;-webkit-flex:1;-moz-flex:1\n}\n.zmiti-question-items .zmiti-question-ulist ul[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row;flex-wrap:wrap\n}\n.zmiti-question-items .zmiti-question-ulist ul li[data-v-5108ebbc]{width:200px;margin-bottom:10px;margin-right:20px\n}\n.zmiti-question-items .zmiti-question-ulist ul li img[data-v-5108ebbc]{width:100px;height:75px\n}\n.zmiti-question-items .zmiti-question-ulist ul li .zmiti-question-suboption[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-question-items .zmiti-question-ulist ul li .zmiti-question-suboption .zmiti-question-suboption-txt[data-v-5108ebbc]{flex:1;-webkit-flex:1;-moz-flex:1;border:1px solid #e8eaec;padding:0 0 0 5px;margin-left:-1px\n}\n.zmiti-question-items .zmiti-question-inner[data-v-5108ebbc]{border-top:1px solid #cccccc;padding-top:12px;padding-bottom:10px\n}\n.zmiti-question-h2[data-v-5108ebbc]{padding:8px 0\n}\n.zmiti-question-img1[data-v-5108ebbc]{padding-bottom:8px\n}\n.zmiti-question-sub[data-v-5108ebbc]{display:flex;display:-webkit-flex;flex-flow:row;margin:0 0 10px 0;line-height:25px\n}\n.zmiti-question-sub label[data-v-5108ebbc]{margin-right:5px\n}\n.zmiti-question-sub img[data-v-5108ebbc]{width:100px;height:100px\n}\n.zmiti-question-foot[data-v-5108ebbc]{margin:15px 0 0 0;border-top:1px solid #cccccc;padding:8px 0 0 0;line-height:20px;display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-question-foot .zmiti-question-oper[data-v-5108ebbc]{margin-left:auto;text-align:right\n}\n.zmiti-question-foot .zmiti-question-oper .zmiti-question-operbtn[data-v-5108ebbc]{margin:0 12px;cursor:pointer\n}\n.zmiti-question-carditems[data-v-5108ebbc]{margin:0 0 15px 0;position:relative\n}\n.zmiti-question-carditems .zmiti-question-h1[data-v-5108ebbc]{margin-bottom:8px;display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-question-carditems .zmiti-question-h1 .zmiti-block-oper[data-v-5108ebbc]{width:40px;color:#2d8cf0;text-align:center;margin-left:auto\n}\n.zmiti-question-carditems .zmiti-question-h1 .zmiti-block-oper span[data-v-5108ebbc]{cursor:pointer\n}\n.zmiti-question-carditems .zmiti-question-carditems-form[data-v-5108ebbc]{border-top:1px solid #dcdee2;padding:15px 0 0 0\n}\n.zmiti-question-carditems .zmiti-question-cardfoot[data-v-5108ebbc]{margin:15px 0 0 0;border-top:1px solid #dcdee2;padding:8px 0 0 0;line-height:20px;display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-question-carditems .zmiti-question-cardfoot .zmiti-question-oper[data-v-5108ebbc]{margin-left:auto;text-align:right\n}\n.zmiti-question-carditems .zmiti-question-cardfoot .zmiti-question-oper .zmiti-question-operbtn[data-v-5108ebbc]{margin:0 12px;cursor:pointer\n}\n.zmiti-page-question[data-v-5108ebbc]{margin:20px 0 0 0;text-align:center\n}\n.zmiti-question-thumbimg[data-v-5108ebbc]{margin:5px 0 0 0\n}\n.zmiti-question-thumbimg img[data-v-5108ebbc]{width:100px;height:100px\n}\n.zmiti-question-addhandle[data-v-5108ebbc]{margin:0 20px\n}\n.zmiti-question-addhandle .ivu-btn[data-v-5108ebbc]{width:100%\n}\n.zmiti-votemanagerview-options[data-v-5108ebbc]{align-items:inherit\n}\n.zmiti-options-content[data-v-5108ebbc]{flex:1;display:flex;flex-flow:row\n}\n.zmiti-options-item-subcon[data-v-5108ebbc]{margin-left:0px\n}\n.zmiti-options-btns[data-v-5108ebbc]{display:flex;align-items:center\n}\n.zmiti-options-btns .zmt_iconfont[data-v-5108ebbc]{margin:0 3px;font-size:14px;cursor:pointer\n}\n",""])},786:function(t,i,e){"use strict";e.r(i);var o=e(2),s=e(9),n=e(10),a=e(64),{companyActions:r,zmitiActions:d,infomanagerActions:u,formatDate:l,userActions:c,voteActions:m}=o.a,p={props:["obserable"],name:"zmitiindex",data(){return{formstatus:!0,show:!1,showPicture:!1,currentChoosePicture:{},currentQuestionIndex:void 0,currentOptionIndex:0,showSubimg:!1,currentChooseSubimg:{},showFormOptions:!0,companyid:"",companyname:"",questionlabe:"",imgs:window.imgs,total:0,loading:!0,viewH:window.innerHeight,viewW:window.innerWidth,dataSource:[],showTable:!1,currentNumber:1,condition:{page_index:0,page_size:10},userinfo:{},productid:0,voteid:0,questionid:void 0,optionsid:void 0,formObj:{questionlabe:"",questiontype:0,sort:0,questionurl:"",options:[{options:"",optionsurl:"",sort:0}]},columns:[{title:"编号",key:"questionid",align:"center",width:120},{title:"投票项",key:"questionlabe",align:"center"},{title:"创建时间",key:"createtime",align:"center",width:180,render:(t,i)=>t("div",{},o.a.formatDate(i.row.createtime))},{title:"操作",key:"action",align:"center",width:120,render:(t,i)=>t("div",[t("Poptip",{props:{confirm:!0,title:"确定要删除吗？",placement:"left"},on:{"on-ok":()=>{this.delete(i.row.questionid)}}},[t("span",{props:{type:"error",size:"small"},style:{cursor:"pointer",color:"#06C"},on:{click:()=>{}}},"删除")]),t("span",{style:{cursor:"pointer",color:"rgb(0, 102, 204)",marginLeft:"10px"},on:{click:()=>{this.$router.push({name:"votemanagerviewquestion",params:{id:this.$route.params.id,voteid:this.$route.params.voteid,questionid:i.row.questionid}})}}},"编辑")])}]}},components:{ZmitiMask:n.a,ZmitiTable:s.a,ResourceList:a.a},beforeCreate(){},created(){this.productid=this.$route.params.id,this.voteid=this.$route.params.voteid,this.companyid=o.a.getCurrentCompanyId().companyid},mounted(){setTimeout(()=>{this.getDataList()},100)},computed:{},watch:{},methods:{goback(){this.$router.push({name:"votemanager",params:{id:this.$route.params.id}})},change(t){this.condition.page_index=t-1,this.currentNumber=t,this.getDataList()},getDataList(){var{condition:t}=this,i=this;t=Object.assign(t,{companyid:o.a.getCurrentCompanyId().companyid,productid:i.productid,voteid:i.voteid,questionlabe:i.questionlabe}),o.a.ajax({remark:"getquesionList",data:{action:m.getquesionList.action,condition:t},error(){i.loading=!1},success(t){i.loading=!1,console.log(t,"获取列表"),0===t.getret&&(i.total=t.total,i.dataSource=t.list)}})},add(){this.formstatus=!0,this.questionid=void 0,this.showFormOptions=!0,this.formObj={questionlabe:"",questiontype:0,sort:0,questionurl:"",options:[{options:"",optionsurl:"",sort:0}]},this.dataSource.forEach((t,i)=>{t.status=!1})},editQuestion(t){console.log(this.dataSource,"当前的dataSource");let i=this.dataSource.filter(i=>t==i.questionid);this.formObj=i[0],this.formObj.questiontype=i[0].questiontype,console.log(this.formObj,"当前的数据"),this.showFormOptions=!1,this.questionid=t,this.scrollthis()},deletequestion(t){var i=this;o.a.ajax({remark:"deletequesion",data:{action:m.deletequesion.action,info:{companyid:o.a.getCurrentCompanyId().companyid,questionid:t,productid:i.productid}},success(t){i.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),i.getDataList()}})},cancelpoptip(){},addmore(){let t=m.addmorequestion.action,i={voteid:this.$route.params.voteid,companyid:this.companyid,productid:this.productid},e=[{questionlabe:this.formObj.questionlabe,questiontype:this.formObj.questiontype,questionurl:this.formObj.questionurl,sort:this.formObj.sort,option_list:this.formObj.options}];var s=this;o.a.ajax({remark:"addmorequestion",data:{action:t,bi:i,list:e},success(t){s.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),0===t.getret&&(s.getDataList(),1==s.formstatus&&(s.formObj={questionlabe:"",questiontype:0,sort:0,questionurl:"",options:[{options:"",optionsurl:"",sort:0}]},s.optionsid=void 0,s.questionid=void 0))}})},deletemore(t){let i=m.deletemorequestion.action,e={companyid:this.companyid,productid:this.productid},s=[t];var n=this;o.a.ajax({remark:"deletemorequestion",data:{action:i,bi:e,list:s},success(t){n.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),0===t.getret&&n.getDataList()}})},editmore(t,i){let e=m.editmorequestion.action,s=this.dataSource[i],n={voteid:this.$route.params.voteid,companyid:this.companyid,productid:this.productid},a=[];s.options.forEach((t,i)=>{a.push({optionsid:null==t.optionsid?0:t.optionsid,questionid:t.questionid,optionsurl:t.optionsurl,options:t.options,sort:t.sort})});let r=[{questionid:t,questionlabe:s.questionlabe,questiontype:s.questiontype,questionurl:s.questionurl,sort:s.sort,option_list:a}];var d=this;o.a.ajax({remark:"editmorequestion",data:{action:e,bi:n,list:r},success(t){d.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),0===t.getret&&d.getDataList()}})},adminAction(t){var i=this;let e={voteid:this.$route.params.voteid,companyid:this.companyid,productid:this.productid};var s="";t<0?(s=m.addquesion.action,e.questionlabe=i.formObj.questionlabe,e.questiontype=i.formObj.questiontype,e.questionurl=i.formObj.questionurl,e.sort=i.formObj.sort,e.options=i.formObj.options):(i.questionid=i.dataSource[t].questionid,s=m.editquesion.action,e.questionid=i.dataSource[t].questionid,e.questionlabe=i.dataSource[t].questionlabe,e.questiontype=i.dataSource[t].questiontype,e.questionurl=i.dataSource[t].questionurl,e.sort=i.dataSource[t].sort),console.log(e,"info-info",i.questionid),o.a.ajax({remark:this.questionid?"editquesion":"addquesion",data:{action:s,info:e},success(t){i.$Message[0===t.getret?"success":"error"](t.msg||t.getmsg),0===t.getret&&(i.getDataList(),1==i.formstatus&&(i.formObj={questionlabe:"",questiontype:0,sort:0,questionurl:"",options:[{options:"",optionsurl:"",sort:0}]},i.optionsid=void 0,i.questionid=void 0))}})},addoptions(t,i){t>0?(this.questionid=t,this.dataSource[i].options.push({options:"",optionsurl:"",sort:0})):this.formObj.options.push({options:"",optionsurl:"",sort:0}),this.optionsid=void 0},removeoptions(t){this.formObj.options.splice(t,1)},editOptions(t,i,e){var s=this,n=s.dataSource[t].options[e];s.optionsid=i,s.questionid=s.dataSource[t].questionid;var a=s.optionsid?m.editQuesionOption.action:m.addQuesionOption.action;let r={voteid:s.voteid,companyid:s.companyid,productid:s.productid,questionid:s.questionid};n.options,n.optionsurl,n.sort;var d={action:a,info:r};null!=i?(d.info.optionsid=n.optionsid,d.info.options=n.options,d.info.optionsurl=n.optionsurl,d.info.sort=n.sort):d.list=[{options:n.options,optionsurl:n.optionsurl,sort:n.sort}],console.log(d,"editOptions"),console.log(i,"optionsid===optionsid"),o.a.ajax({remark:s.optionsid?"editQuesionOption":"addQuesionOption",data:d,success(i){s.$Message[0===i.getret?"success":"error"](i.msg||i.getmsg),0===i.getret&&(s.getDataList(),setTimeout(()=>{s.editQuestion(s.questionid),s.dataSource[t].status=!0,console.log(s.dataSource[t].options[e],"options====index====")},1e3))}})},deleteQuestionOptions(t,i,e){var s=this;i?o.a.ajax({remark:"deleteQuesionOption",data:{action:m.deleteQuesionOption.action,info:{companyid:s.companyid,productid:s.productid,optionsid:i}},success(i){s.$Message[0===i.getret?"success":"error"](i.msg||i.getmsg),0===i.getret&&setTimeout(()=>{s.dataSource[t].options.splice(e,1)},1e3)}}):s.removeoptions(e)},currentQuestionStatus(t){this.formstatus=!1;var i=this;this.show=!this.show,this.dataSource.forEach((e,o)=>{e.status=t===o&&i.show})},scrollthis(){var t=this.$refs.zmitiscroll;t.scrollTop=t.scrollHeight},filedstring:t=>t.toString(),onFinishPicture(t){this.currentChoosePicture=t},choosePicture(){this.showPicture=!1;let t=this.currentQuestionIndex;null!=t?this.dataSource[t].questionurl=this.currentChoosePicture.filepath:this.formObj.questionurl=this.currentChoosePicture.filepath},openQuestionPicture(t){this.showPicture=!0,this.currentQuestionIndex=t},openUploadImg(t,i){this.questionid=t,this.currentOptionIndex=i,this.showSubimg=!0},onFinishSubimg(t){this.currentChooseSubimg=t},chooseSubimg(){this.showSubimg=!1;let t=this.currentOptionIndex,i=this.currentChooseSubimg.filepath,e=this.questionid;if(this.questionid>0){this.dataSource.filter(t=>e==t.questionid)[0].options[t].optionsurl=i}else this.formObj.options[t].optionsurl=i}}},b=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"zmiti-votemanagerview-main-ui"},[e("div",{staticClass:"zmiti-list-main"},[e("div",{staticClass:"zmiti-informanager-table lt-full"},[e("header",{staticClass:"zmiti-tab-header"},[t._m(0),t._v(" "),e("div",[e("Button",{attrs:{type:"default"},on:{click:function(i){return t.goback()}}},[t._v("返回")])],1)]),t._v(" "),e("div",{ref:"zmitiscroll",staticClass:"zmiti-submit-main zmiti-scroll",style:{height:t.viewH-110+"px"}},[e("div",{staticClass:"zmiti-votemanagerviewquestion-list"},t._l(t.dataSource,(function(i,o){return e("div",{key:o,staticClass:"zmiti-question-carditems"},[e("Card",{attrs:{bordered:!1}},[e("div",{staticClass:"zmiti-question-h1"},[e("div",{staticClass:"zmiti-h1-txt"},[t._v(t._s(i.questionlabe))]),t._v(" "),e("div",{staticClass:"zmiti-block-oper",on:{click:function(i){return t.currentQuestionStatus(o)}}},[e("span",[t._v(t._s(1==i.status?"收起":"展开"))])])]),t._v(" "),e("div",{staticStyle:{display:"none"}},[t._v(t._s(t.show))]),t._v(" "),i.status?e("div",{staticClass:"zmiti-question-carditems-form"},[e("Form",{staticClass:"zmiti-add-form-C",attrs:{model:i,"label-width":80}},[e("FormItem",{attrs:{label:"投票项："}},[e("Input",{attrs:{placeholder:"投票项"},model:{value:i.questionlabe,callback:function(e){t.$set(i,"questionlabe",e)},expression:"item.questionlabe"}})],1),t._v(" "),e("FormItem",{attrs:{label:"图片："}},[e("div",[e("Button",{attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(i){return t.openQuestionPicture(o)}}},[t._v("选择图片")])],1),t._v(" "),i.questionurl?e("div",{staticClass:"zmiti-question-thumbimg"},[e("img",{attrs:{src:i.questionurl}})]):t._e()]),t._v(" "),e("FormItem",{attrs:{label:"类型："}},[e("RadioGroup",{model:{value:i.questiontype,callback:function(e){t.$set(i,"questiontype",e)},expression:"item.questiontype"}},[e("Radio",{attrs:{label:0}},[t._v("单选")]),t._v(" "),e("Radio",{attrs:{label:1}},[t._v("多选")])],1)],1),t._v(" "),e("FormItem",{attrs:{label:"选项："}},[i.options.length>0?t._l(i.options,(function(s,n){return e("div",{key:n,staticClass:"zmiti-votemanagerview-options"},[""!=s.optionsurl?e("div",{staticClass:"zmiti-options-content"},[e("div",{staticClass:"zmiti-options-item-imgurl",staticStyle:{width:"80px"}},[e("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:s.optionsurl}})]),t._v(" "),e("div",{staticClass:"zmiti-options-item zmiti-options-item-subcon",staticStyle:{"margin-right":"5px"}},[e("Input",{staticStyle:{"margin-right":"5px"},attrs:{type:"textarea",placeholder:"选项内容"},model:{value:s.options,callback:function(i){t.$set(s,"options",i)},expression:"ele.options"}})],1)]):e("div",{staticClass:"zmiti-options-item",staticStyle:{"margin-right":"5px"}},[e("Input",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"选项内容"},model:{value:s.options,callback:function(i){t.$set(s,"options",i)},expression:"ele.options"}})],1),t._v(" "),e("div",{staticClass:"zmiti-options-btns",staticStyle:{width:"120px"}},[e("Icon",{attrs:{type:"ios-image-outline",size:"20"},on:{click:function(e){return t.openUploadImg(i.questionid,n)}}}),t._v(" "),i.options.length-1===n?e("Icon",{attrs:{type:"ios-add-circle-outline",size:"20"},on:{click:function(e){return t.addoptions(i.questionid,o)}}}):t._e(),t._v(" "),[e("Poptip",{attrs:{confirm:"",title:"您确认删除选项吗?"},on:{"on-ok":function(i){return t.deleteQuestionOptions(o,s.optionsid,n)}}},[e("Icon",{attrs:{type:"ios-remove-circle-outline",size:"20"}})],1)]],2)])})):t._e()],2)],1),t._v(" "),e("div",{staticClass:"zmiti-question-cardfoot"},[e("div",{staticClass:"zmiti-question-num"},[t._v("编号："+t._s(i.questionid))]),t._v(" "),e("div",{staticClass:"zmiti-question-oper"},[e("Poptip",{attrs:{confirm:"",title:"您确认删除这条内容吗?"},on:{"on-ok":function(e){return t.deletemore(i.questionid)},"on-cancel":t.cancelpoptip}},[e("span",{staticClass:"zmiti-question-operbtn"},[t._v("删除")])]),t._v("\n\t\t\t\t\t\t\t\t\t    |"),e("span",{staticClass:"zmiti-question-operbtn",on:{click:function(e){return t.editmore(i.questionid,o)}}},[t._v("保存")])],1)])],1):t._e()])],1)})),0),t._v(" "),t.total>t.condition.page_size?e("div",{staticClass:"zmiti-page-question"},[e("Page",{attrs:{total:t.total,size:"small","page-size":t.condition.page_size,"show-total":""},on:{"on-change":t.change}})],1):t._e(),t._v(" "),1==t.formstatus?e("div",{staticClass:"zmiti-votemanagerviewquestion-list"},[e("Card",{attrs:{bordered:!1}},[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("新增")]),t._v(" "),e("Form",{staticClass:"zmiti-add-form-C",attrs:{model:t.formObj,"label-width":80}},[e("FormItem",{attrs:{label:"投票项："}},[e("Input",{attrs:{placeholder:"投票项"},model:{value:t.formObj.questionlabe,callback:function(i){t.$set(t.formObj,"questionlabe",i)},expression:"formObj.questionlabe"}})],1),t._v(" "),e("FormItem",{attrs:{label:"图片："}},[e("div",[e("Button",{attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(i){t.showPicture=!0}}},[t._v("选择图片")])],1),t._v(" "),t.formObj.questionurl?e("div",{staticClass:"zmiti-question-thumbimg"},[e("img",{attrs:{src:t.formObj.questionurl}})]):t._e()]),t._v(" "),e("FormItem",{attrs:{label:"类型："}},[e("RadioGroup",{model:{value:t.formObj.questiontype,callback:function(i){t.$set(t.formObj,"questiontype",i)},expression:"formObj.questiontype"}},[e("Radio",{attrs:{label:0}},[t._v("单选")]),t._v(" "),e("Radio",{attrs:{label:1}},[t._v("多选")])],1)],1),t._v(" "),1==t.showFormOptions?[e("FormItem",{attrs:{label:"选项："}},[t.formObj.options.length>0?t._l(t.formObj.options,(function(i,o){return e("div",{key:o,staticClass:"zmiti-votemanagerview-options"},[""!=i.optionsurl?e("div",{staticClass:"zmiti-options-content"},[e("div",{staticClass:"zmiti-options-item-imgurl",staticStyle:{width:"80px"}},[e("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:i.optionsurl}})]),t._v(" "),e("div",{staticClass:"zmiti-options-item zmiti-options-item-subcon",staticStyle:{"margin-right":"5px"}},[e("Input",{staticStyle:{"margin-right":"5px"},attrs:{type:"textarea",placeholder:"选项内容"},model:{value:i.options,callback:function(e){t.$set(i,"options",e)},expression:"item.options"}})],1)]):e("div",{staticClass:"zmiti-options-item",staticStyle:{"margin-right":"5px"}},[e("Input",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"选项内容"},model:{value:i.options,callback:function(e){t.$set(i,"options",e)},expression:"item.options"}})],1),t._v(" "),e("div",{staticClass:"zmiti-options-btns",staticStyle:{width:"120px"}},[e("Icon",{attrs:{type:"ios-image-outline",size:"20"},on:{click:function(i){return t.openUploadImg(-1,o)}}}),t._v(" "),t.formObj.options.length-1===o?e("Icon",{attrs:{type:"ios-add-circle-outline",size:"20"},on:{click:function(i){return t.addoptions(0)}}}):t._e(),t._v(" "),t.formObj.options.length>1?e("Icon",{attrs:{type:"ios-remove-circle-outline",size:"20"},on:{click:function(i){return t.removeoptions(-1,-1,o)}}}):t._e()],1)])})):t._e()],2)]:t._e(),t._v(" "),e("FormItem",{attrs:{label:""}},[e("Button",{attrs:{size:"large",type:"primary"},on:{click:t.addmore}},[t._v("确定")])],1)],2)],1)],1):e("div",{staticClass:"zmiti-question-addhandle",staticStyle:{"margin-top":"10px"}},[e("Button",{attrs:{size:"large",type:"dashed",icon:"md-add"},on:{click:t.add}},[t._v("添加投票项")])],1)])])]),t._v(" "),e("Modal",{attrs:{title:"资料库",width:"800"},model:{value:t.showPicture,callback:function(i){t.showPicture=i},expression:"showPicture"}},[t.showPicture?e("ResourceList",{attrs:{isAdmin:!1,isDialog:!0},on:{onFinished:t.onFinishPicture}}):t._e(),t._v(" "),e("div",{staticClass:"zmiti-resourcelist-footer",attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"100px"},on:{click:function(i){t.showPicture=!1}}},[t._v("取消")]),t._v(" "),e("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.choosePicture}},[t._v("确定")])],1)],1),t._v(" "),e("Modal",{attrs:{title:"资料库",width:"800"},model:{value:t.showSubimg,callback:function(i){t.showSubimg=i},expression:"showSubimg"}},[t.showSubimg?e("ResourceList",{attrs:{isAdmin:!1,isDialog:!0},on:{onFinished:t.onFinishSubimg}}):t._e(),t._v(" "),e("div",{staticClass:"zmiti-resourcelist-footer",attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"100px"},on:{click:function(i){t.showSubimg=!1}}},[t._v("取消")]),t._v(" "),e("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(i){return t.chooseSubimg(t.currentOptionIndex)}}},[t._v("确定")])],1)],1)],1)};b._withStripped=!0;var v=e(3),h=!1;var g=function(t){h||(e(682),e(684))},f=Object(v.a)(p,b,[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("span",[this._v("投票项管理")])])}],!1,g,"data-v-5108ebbc",null);f.options.__file="components\\votemanager\\view\\index.vue";i.default=f.exports}}]);