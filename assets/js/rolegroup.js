(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{102:function(t,i,e){var a=e(103);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(17).default)("1309c472",a,!1,{})},103:function(t,i,e){(t.exports=e(1)()).push([t.i,'\n.zmiti-rolegroup-main-ui[data-v-f5109258]{background:#f2f2f2;box-sizing:border-box;height:100%;width:99%;margin:0 auto\n}\n.zmiti-rolegroup-main-ui .zmiti-avatar-list[data-v-f5109258]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-rolegroup-main-ui .zmiti-avatar-list span[data-v-f5109258]{font-size:40px;margin-right:20px;cursor:pointer\n}\n.zmiti-rolegroup-main-ui .zmiti-avatar-list span.active[data-v-f5109258]{color:#3390ff\n}\n.zmiti-rolegroup-main-ui .ivu-table-wrapper[data-v-f5109258]{border-bottom:none;border-right:none\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main[data-v-f5109258]{box-sizing:border-box;background:#fff;margin:0 auto;flex:2;-webkit-flex:2;position:relative;top:5px;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main[data-v-f5109258]:before{content:"";position:absolute;width:100%;height:100%;left:0;top:0;box-shadow:0 0 0 1px #ccc\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-f5109258]{z-index:100\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main>div[data-v-f5109258]{margin:10px auto 10px;position:relative;flex:1;-webkit-flex:1\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main>div .zmiti-meet-form[data-v-f5109258]{width:100%;margin:0px auto;padding:20px 40px;height:600px;overflow:auto\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main .zmiti-list-where[data-v-f5109258]{width:98%;margin:10px auto 0;height:40px;line-height:40px;font-size:14px;position:relative;z-index:10\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main .zmiti-list-where input[data-v-f5109258]{height:30px\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main .zmiti-rolegroup-main[data-v-f5109258]{flex:5;-webkit-flex:5;width:100%\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main .zmiti-rolegroup-main>div[data-v-f5109258]{-webkit-transition:.3s;transition:.3s\n}\n.zmiti-rolegroup-main-ui .zmiti-list-main .zmiti-rolegroup-main .zmiti-rolegroup-table[data-v-f5109258]{width:98%;margin:0 auto\n}\n.zmiti-rolegroup-main-ui .lt-full[data-v-f5109258]{position:fixed !important;background:rgba(0,0,0,0.5);z-index:1001;overflow:hidden\n}\n.zmiti-rolegroup-main-ui .lt-full .zmiti-left-pannel[data-v-f5109258]{position:absolute;width:100%;height:100px;left:0;top:0;z-index:10\n}\n.zmiti-add-form[data-v-f5109258]{flex:1;-webkit-flex:1;width:500px;overflow:auto;position:absolute !important;top:0;right:0;z-index:100;height:100%;position:relative;box-shadow:0 0 0 1px #ccc;box-sizing:border-box;background:#f9f9f9\n}\n.zmiti-add-form .zmiti-safe-content[data-v-f5109258]{display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:center;align-items:center;margin-top:30px;justify-content:space-around;-webkit-justify-content:space-around;border:1px dashed #ccc;padding:10px 0\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-f5109258]:nth-of-type(1){text-align:center;width:120px;font-weight:bold\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-f5109258]:nth-of-type(2){flex:1;-webkit-flex:1\n}\n.zmiti-add-form .zmiti-safe-content>div[data-v-f5109258]:nth-of-type(3){width:80px;cursor:pointer;text-align:center;color:#06c\n}\n.zmiti-add-form.detail-enter-active[data-v-f5109258],.zmiti-add-form.detail-leave-active[data-v-f5109258]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-add-form.detail-enter[data-v-f5109258],.zmiti-add-form.detail-leave-to[data-v-f5109258]{-webkit-transform:translateX(100%);transform:translateX(100%)\n}\n.zmiti-add-form .zmiti-rolegroup-avatar[data-v-f5109258]{background:rgba(51,144,255,0.1);border-radius:50%;text-align:center;width:80px;height:80px;line-height:80px;margin:0 auto 30px;cursor:pointer;position:relative\n}\n.zmiti-add-form .zmiti-rolegroup-avatar label[data-v-f5109258]{position:absolute;bottom:-50px;font-size:12px;width:100%;text-align:center;left:0\n}\n.zmiti-add-form .zmiti-rolegroup-avatar span[data-v-f5109258]{font-size:40px;color:rgba(51,144,255,0.8)\n}\n.zmiti-add-form .zmiti-add-form-C[data-v-f5109258]{margin:10px auto 2px;width:90%\n}\n.zmiti-add-form .zmiti-add-form-item[data-v-f5109258]{line-height:50px;height:50px\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-f5109258]{text-align:center;position:relative;z-index:10\n}\n.zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-f5109258]{margin:0 20px;padding:2px 20px\n}\n.zmiti-add-form .zmiti-add-form-item input[data-v-f5109258]{padding-left:6px;height:32px;width:70%;border:1px solid #d8d8d8;outline:none\n}\n.ivu-icon-ios-help-circle[data-v-f5109258]{left:25px\n}\n.ivu-radio-inner[data-v-f5109258]:after{border-radius:10px !important\n}\n',""])},120:function(t,i,e){"use strict";e.r(i);var a=e(0),o=e(19),n=e(23),r=o.a.adminActions,l=o.a.userActions,d=o.a.companyActions,c=o.a.basicConfigActions,u=o.a.resourceActions,m=[{name:"基础配置模块",actions:Object.values(c)},{name:"管理员模块",actions:Object.values(r)},{name:"用户单位模块",actions:Object.values(d)},{name:"用户端模块",actions:Object.values(l)},{name:"资源模块",actions:Object.values(u)}],p={props:["obserable"],name:"zmitiindex",data(){return{actions:m,tabIndex:[0,-1],visible:!1,avatarList:["&#xe6a5;","&#xe6a4;","&#xe6a3;","&#xe6a2;","&#xe6a0;"],roleList:[],imgs:window.imgs,isLoading:!1,showDetail:!1,showDetailPage:-1,currentClassId:-1,adminuserId:"",currentUserid:"",formRoleGroup:{isover:0,actions:[],avatar:"&#xe6a4;"},address:"",showPass:!1,showMap:!1,viewH:window.innerHeight,viewW:window.innerWidth,companyList:[],adminList:[],groupList:[],hideMenu:!1,roleCol:[{title:"产品名称",key:"productname",align:"center"},{title:"访问权限",key:"role",align:"center",render:(t,i)=>(console.log(i.row),t("Checkbox",{props:{checked:!0,value:1===i.row.authstatus},on:{"on-change":t=>{o.a.ajax({url:window.config.baseUrl+"admin/setuserauth",data:{setuserid:this.currentUserid,productids:i.row.productid,isdel:1===i.row.authstatus?1:2}})}}},"访问权限"))}],columns:[{title:"权限组名称",key:"groupname",align:"center"},{title:"描述",key:"describes",align:"center"},{title:"用户列表",key:"grouptype",align:"center"},{title:"操作",key:"action",align:"center",width:200,render:(t,i)=>t("div",[t("span",{style:{border:"none",fontSize:"12px",cursor:"pointer",color:"#06C"},on:{click:()=>{this.visible=!0;var t=this;this.currentUserid=i.row.userid,o.a.ajax({url:window.config.baseUrl+"admin/getuserauth",data:{setuserid:i.row.userid},success(i){t.roleList=i.list,console.log(i)}})}}},"权限"),t("span",{props:{type:"primary",size:"small"},style:{margin:"2px 0 2px 10px",border:"none",fontSize:"12px",cursor:"pointer",color:"#06C"},on:{click:()=>{}}},"用户"),t("span",{props:{type:"primary",size:"small"},style:{margin:"2px 10px",border:"none",fontSize:"12px",cursor:"pointer",color:"#06C"},on:{click:()=>{var t=this;t.showDetail=!0,t.formRoleGroup=i.row,t.adminuserId=i.row.adminuserid,console.log(i.row)}}},"详情"),t("Poptip",{props:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":()=>{this.delGroup(i.row.id)}}},[t("span",{props:{type:"error",size:"small"},style:{cursor:"pointer",color:"#06C"},on:{click:()=>{}}},"删除")])])}],formcompany:{pdfurl:"",longitude:"116.585856",latitude:"40.364989"},companyList:[],directoryList:{},condition:{page_index:0,page_size:10},userinfo:{}}},components:{ZmitiMask:n.a},beforeCreate(){},mounted(){window.s=this,this.userinfo=o.a.getAdminUserInfo(),this.getGroupList()},watch:{showDetail(t){t?a.default.obserable.trigger({type:"toggleMask",data:!0}):setTimeout(()=>{this.showDetailPage=-1},310)}},methods:{closeMaskPage(){a.default.obserable.trigger({type:"toggleMask",data:!1})},toggleAction(t){var{actions:i}=this.formRoleGroup;i.some(i=>i===t.action)?i.forEach((i,e)=>{i===t.action&&this.formRoleGroup.actions.splice(e,1)}):this.formRoleGroup.actions.push(t.action),console.log(this.formRoleGroup.actions)},initPassword(){var{$Message:t}=this;o.a.adminAjax({data:{action:r.modifyAdminPassword.action,adminuserid:this.formRoleGroup.adminuserid,adminpwd:window.config.defaultPass},success(i){t[0===i.getret?"success":"error"](i.msg),i.getret}})},addAdmin(){this.showDetail=!0,this.adminuserId="",this.formRoleGroup={isover:0,avatar:"&#xe6a4;"},a.default.obserable.trigger({type:"toggleMask",data:!0})},delGroup(t){var i=this;o.a.adminAjax({remark:"delGroup",data:{action:r.delGroup.action,id:t},success(t){i.$Message[0===t.getret?"success":"error"](t.msg),0===t.getret&&i.getGroupList()}})},help(){o.a.adminAjax({remark:"getGroupList",data:{action:r.getGroupList.action,condition:this.condition},success(t){0===t.getret&&(s.adminList=t.list,o.a.adminAjax({remark:"getGroupList",data:{action:r.getGroupList.action,condition:this.condition},success(t){0===t.getret&&(s.groupList=t.list)}}))}})},getGroupList(){var t=this;new Promise((i,e)=>{o.a.adminAjax({remark:"getGroupList",data:{action:r.getGroupList.action,condition:this.condition},success(e){0===e.getret&&(t.groupList=e.list,i())}})})},roleGroupAction(){var t=this,i=this.formRoleGroup.id?r.editGroup.action:r.addGroup.action;o.a.adminAjax({remark:this.formRoleGroup.id?"editGroup":"addGroup",data:{action:i,info:this.formRoleGroup},success(i){t.$Message[0===i.getret?"success":"error"](i.msg),0===i.getret&&(t.showDetail=!1,t.getGroupList())}})}}},f=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"zmiti-rolegroup-main-ui"},[e("div",{staticClass:"zmiti-list-main"},[e("header",{staticClass:"zmiti-tab-header"},[e("div",[t._v("权限组管理")]),t._v(" "),e("div",[e("Button",{attrs:{type:"primary"},on:{click:t.addAdmin}},[t._v("新增权限组")])],1)]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"zmiti-rolegroup-main zmiti-scroll ",style:{height:t.viewH-180+"px"}},[e("div",{staticClass:"zmiti-rolegroup-table",class:{active:t.showDetail}},[e("Table",{attrs:{data:t.groupList,columns:t.columns}})],1)]),t._v(" "),(t.showDetail,t._e())]),t._v(" "),e("ZmitiMask",{on:{closeMaskPage:t.closeMaskPage},model:{value:t.showDetailPage,callback:function(i){t.showDetailPage=i},expression:"showDetailPage"}},[e("div",{attrs:{slot:"mask-content"},slot:"mask-content"},[e("transition",{attrs:{name:"detail"}},[t.showDetail?e("section",{staticClass:"zmiti-add-form zmiti-scroll"},[e("header",{staticClass:"zmiti-add-header"},[e("img",{attrs:{src:t.imgs.back,alt:""},on:{click:t.closeMaskPage}}),t._v(" "),e("span",[t._v("基础信息")])]),t._v(" "),e("h2",{staticStyle:{height:"50px"}}),t._v(" "),e("Form",{staticClass:"zmiti-add-form-C",attrs:{model:t.formRoleGroup,"label-width":110}},[e("FormItem",{attrs:{label:"权限组名称："}},[e("Input",{attrs:{placeholder:"权限组名称："},model:{value:t.formRoleGroup.groupname,callback:function(i){t.$set(t.formRoleGroup,"groupname",i)},expression:"formRoleGroup.groupname"}})],1),t._v(" "),e("FormItem",{attrs:{label:"描述："}},[e("Input",{attrs:{placeholder:"描述："},model:{value:t.formRoleGroup.describes,callback:function(i){t.$set(t.formRoleGroup,"describes",i)},expression:"formRoleGroup.describes"}})],1),t._v(" "),e("FormItem",{attrs:{label:"管理员类别："}},[e("RadioGroup",{model:{value:t.formRoleGroup.grouptype,callback:function(i){t.$set(t.formRoleGroup,"grouptype",i)},expression:"formRoleGroup.grouptype"}},[e("Radio",{attrs:{value:2,label:2}},[t._v("普通管理员")]),t._v(" "),e("Radio",{attrs:{value:1,label:1}},[t._v("超级管理员")])],1)],1),t._v(" "),e("FormItem",{attrs:{label:"actions列表："}},t._l(t.actions,(function(i,a){return e("div",{key:a,staticClass:"zmiti-action-list"},[e("div",{staticClass:"zmiti-action-title"},[t._v(t._s(a+1+"."+i.name)+"：")]),t._v(" "),e("div",{staticClass:"zmiti-action-content"},t._l(i.actions,(function(i,a){return e("div",{key:a,class:{active:t.formRoleGroup.actions&&t.formRoleGroup.actions.some((function(t){return t===i.action}))},attrs:{type:"border"},on:{click:function(e){return t.toggleAction(i)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.desc)+"\n\t\t\t\t\t\t\t\t\t\t")])})),0)])})),0),t._v(" "),e("FormItem",{attrs:{label:"是否系统管理组："}},[e("RadioGroup",{model:{value:t.formRoleGroup.issys,callback:function(i){t.$set(t.formRoleGroup,"issys",i)},expression:"formRoleGroup.issys"}},[e("Radio",{attrs:{value:1,label:1}},[t._v("是")]),t._v(" "),e("Radio",{attrs:{value:0,label:0}},[t._v("否")])],1)],1)],1),t._v(" "),e("div",{staticClass:"zmiti-add-form-item zmiti-add-btns"},[e("Button",{attrs:{size:"large",type:"primary"},on:{click:t.roleGroupAction}},[t._v(t._s(t.formRoleGroup.id?"保存":"确定"))])],1)],1):t._e()])],1)]),t._v(" "),e("Modal",{attrs:{title:"权限设置"},model:{value:t.visible,callback:function(i){t.visible=i},expression:"visible"}},[e("Table",{attrs:{data:t.roleList,columns:t.roleCol}})],1)],1)};f._withStripped=!0;var g=e(18),h=!1;var v=function(t){h||e(102)},b=Object(g.a)(p,f,[function(){var t=this.$createElement,i=this._self._c||t;return i("section",{staticClass:"zmiti-list-where"},[this._v("\n\t\t\t权限组编号 "),i("input",{attrs:{type:"text"}})])}],!1,v,"data-v-f5109258",null);b.options.__file="admin\\rolegroup\\index.vue";i.default=b.exports},17:function(t,i,e){"use strict";function a(t,i){for(var e=[],a={},o=0;o<i.length;o++){var n=i[o],r=n[0],s={id:t+":"+o,css:n[1],media:n[2],sourceMap:n[3]};a[r]?a[r].parts.push(s):e.push(a[r]={id:r,parts:[s]})}return e}e.r(i),e.d(i,"default",(function(){return f}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},r=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,d=!1,c=function(){},u=null,m="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,i,e,o){d=e,u=o||{};var r=a(t,i);return g(r),function(i){for(var e=[],o=0;o<r.length;o++){var s=r[o];(l=n[s.id]).refs--,e.push(l)}i?g(r=a(t,i)):r=[];for(o=0;o<e.length;o++){var l;if(0===(l=e[o]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete n[l.id]}}}}function g(t){for(var i=0;i<t.length;i++){var e=t[i],a=n[e.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](e.parts[o]);for(;o<e.parts.length;o++)a.parts.push(v(e.parts[o]));a.parts.length>e.parts.length&&(a.parts.length=e.parts.length)}else{var r=[];for(o=0;o<e.parts.length;o++)r.push(v(e.parts[o]));n[e.id]={id:e.id,refs:1,parts:r}}}}function h(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var i,e,a=document.querySelector("style["+m+'~="'+t.id+'"]');if(a){if(d)return c;a.parentNode.removeChild(a)}if(p){var o=l++;a=s||(s=h()),i=z.bind(null,a,o,!1),e=z.bind(null,a,o,!0)}else a=h(),i=w.bind(null,a),e=function(){a.parentNode.removeChild(a)};return i(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;i(t=a)}else e()}}var b,x=(b=[],function(t,i){return b[t]=i,b.filter(Boolean).join("\n")});function z(t,i,e,a){var o=e?"":a.css;if(t.styleSheet)t.styleSheet.cssText=x(i,o);else{var n=document.createTextNode(o),r=t.childNodes;r[i]&&t.removeChild(r[i]),r.length?t.insertBefore(n,r[i]):t.appendChild(n)}}function w(t,i){var e=i.css,a=i.media,o=i.sourceMap;if(a&&t.setAttribute("media",a),u.ssrId&&t.setAttribute(m,i.id),o&&(e+="\n/*# sourceURL="+o.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},18:function(t,i,e){"use strict";function a(t,i,e,a,o,n,r,s){var l=typeof(t=t||{}).default;"object"!==l&&"function"!==l||(t=t.default);var d,c="function"==typeof t?t.options:t;if(i&&(c.render=i,c.staticRenderFns=e,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId=n),r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=d):o&&(d=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(t,i){return d.call(i),u(t,i)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,d):[d]}return{exports:t,options:c}}e.d(i,"a",(function(){return a}))},23:function(t,i,e){"use strict";var a=e(0),o={props:{value:{type:Number,default:function(){return-1}},width:{type:Number,default:function(){return 500}}},watch:{value(t){this.showPannel=t>-1}},data:()=>({viewH:window.innerHeight,showPannel:!1}),methods:{change(t){},hidePannel(){this.showPannel=!1},afterLeave(){this.$emit("input",!1),this.$emit("closeMaskPage")}},mounted(){a.default.obserable.on("toggleMask",t=>{this.showPannel=t})}},n=function(){var t=this,i=t.$createElement;return(t._self._c||i)("Drawer",{attrs:{title:"",placement:"right",width:500,closable:!1},on:{"on-visible-change":t.change},model:{value:t.showPannel,callback:function(i){t.showPannel=i},expression:"showPannel"}},[t._t("mask-content")],2)};n._withStripped=!0;var r=e(18),s=!1;var l=function(t){s||e(24)},d=Object(r.a)(o,n,[],!1,l,"data-v-bc775556",null);d.options.__file="common\\mask\\index.vue";i.a=d.exports},24:function(t,i,e){var a=e(25);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(17).default)("eaf42654",a,!1,{})},25:function(t,i,e){(t.exports=e(1)()).push([t.i,"\n.zmiti-mask-ui[data-v-bc775556]{position:fixed;z-index:1002;width:100%;height:100%;background:rgba(0,0,0,0.6);left:0;top:0\n}\n.zmiti-mask-ui .zmiti-mask-right[data-v-bc775556]{position:absolute;background:#fff;top:50px;right:0;overflow:auto;z-index:10\n}\n.zmiti-mask-ui .zmiti-mask-right.right-enter-active[data-v-bc775556],.zmiti-mask-ui .zmiti-mask-right.right-leave-active[data-v-bc775556]{-webkit-transition:.2s;transition:.2s\n}\n.zmiti-mask-ui .zmiti-mask-right.right-leave-to[data-v-bc775556],.zmiti-mask-ui .zmiti-mask-right.right-enter[data-v-bc775556]{-webkit-transform:translate3d(600px, 0, 0);transform:translate3d(600px, 0, 0)\n}\n.zmiti-mask-ui .lt-full[data-v-bc775556]{z-index:8;height:100%\n}\n",""])}}]);