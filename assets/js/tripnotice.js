(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{259:function(t,i,e){var n=e(260);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,e(6).default)("84b4aa5e",n,!1,{})},260:function(t,i,e){(t.exports=e(4)()).push([t.i,"\n.zmiti-tripnotice-main-ui .zmiti-trip-content[data-v-54684b18]{display:flex;display:-webkit-flex;flex-flow:row\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-trip-mobile[data-v-54684b18]{margin:20px 20px 0 20px;position:relative;display:flex;display:-webkit-flex;flex-flow:column;flex:1;-webkit-flex:1;justify-content:center;align-content:center\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-tripnotice-editor[data-v-54684b18]{flex:2;-webkit-flex:2\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-editor-phone[data-v-54684b18]{width:100%;display:flex;display:-webkit-flex;flex-flow:column;margin:0 auto\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-editor-phone img[data-v-54684b18]{width:auto;height:100%\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-editor-header[data-v-54684b18]{position:absolute;width:100%;margin:0 auto;overflow:hidden;display:flex;display:-webkit-flex;flex-flow:column\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-editor-header img.wxHeader[data-v-54684b18]{width:220px;height:auto;margin:0 auto\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-editor-header .zmiti-editor-m-c[data-v-54684b18]{flex:1;width:220px;margin:0 auto;border:3px solid #ccc;overflow:hidden\n}\n.zmiti-tripnotice-main-ui .zmiti-trip-content .zmiti-tripnotice-editor[data-v-54684b18]{flex:2;-webkit-flex:2\n}\n",""])},724:function(t,i,e){"use strict";e.r(i);var n=e(0),a=e(2),o={name:"UE",data:()=>({editor:null}),props:{id:{type:String,required:!0},defaultMsg:{type:String,default:""},config:{type:Object}},watch:{defaultMsg:function(t){this.editor&&this.editor.isReady&&(t!==this.editor.getContent()&&this.editor.setContent(t))}},mounted(){var t=this,i={initialFrameHeight:300,initialFrameWidth:400};!function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])}(i,this.config||{}),this.editor=window.UE.getEditor(this.id,i),this.editor.addListener("ready",(function(){t.defaultMsg&&t.editor.setContent(t.defaultMsg)})),this.editor.addListener("contentChange",(function(){var i=t.editor.getContent();t.defaultMsg!==i&&t.$emit("contentChanged",i)}))},destroyed(){this.editor.destroy()}},r=function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("script",{attrs:{id:this.id,type:"text/plain"}})])};r._withStripped=!0;var d=e(3),s=Object(d.a)(o,r,[],!1,null,null,null);s.options.__file="common\\ueditor\\index.vue";var c=s.exports,{tripActions:m}=a.a,l={props:["obserable"],name:"zmitiindex",data:()=>({viewH:window.innerHeight,mobileH:window.innerHeight-120,imgs:window.imgs,editorOption:{initialFrameWidth:"100%",initialFrameHeight:window.innerHeight-200,enableAutoSave:!1,autoHeightEnabled:!1,toolbars:[["bold","italic","underline","|","forecolor","backcolor","|","paragraph","fontfamily","fontsize","lineheight","|","insertorderedlist","insertunorderedlist","|","removeformat","blockquote","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","imagenone","imageleft","imageright","imagecenter","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","|","source","fullscreen"]]},companyname:a.a.getCurrentCompanyId().companyname,formObj:{notice:""},userinfo:{},currentProvId:"",btnMsg:"保存",remarkName:"editNotice",actioName:m.editNotice.action}),components:{UE:c},beforeCreate(){},mounted(){this.getDataList()},watch:{$route:{handler(){var t=this.productid;t&&this.$router.push({path:"/tripnotice/"+t})}}},methods:{onEditorBlur(){},onEditorFocus(){},onEditorChange(){},addNotice(){var t=this,i=this.$route.params.id,e={companyid:a.a.getCurrentCompanyId().companyid,productid:i,notice:this.formObj.notice};a.a.ajax({remark:t.remarkName,data:{action:t.actioName,info:e},success(i){t.loading=!1,0===i.getret&&(t.$Message[0===i.getret?"success":"error"](i.getmsg),t.getDataList())}})},getDataList(){var t=this;t.loading=!0;var i=setInterval(()=>{var e=this.$route.params.id;if(n.default.productList){clearInterval(i),e||n.default.productList.forEach(i=>{t.$route.name.indexOf(i.producturl.substr(1))>-1&&(e=i.productid)}),this.$router.push({path:"/tripnotice/"+e}),this.productid=e;var{condition:o}=this,o={companyid:a.a.getCurrentCompanyId().companyid,productid:e};a.a.ajax({remark:"searchNotice",data:{action:m.searchNotice.action,condition:o},success(i){t.loading=!1,0===i.getret?(t.formObj.notice=i.notice,t.btnMsg="保存",t.remarkName="editNotice",t.actioName=m.editNotice.action):(t.btnMsg="新增",t.remarkName="addNotice",t.actioName=m.addNotice.action)}})}},100)},contentChange(t){this.formObj.notice=t}}},p=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"zmiti-tripnotice-main-ui"},[e("div",{staticClass:"zmiti-list-main"},[e("header",{staticClass:"zmiti-tab-header"},[e("div",[t.companyname?e("span"):t._e(),t._v("注意事项-"+t._s(t.companyname))]),t._v(" "),e("div",[e("Button",{attrs:{type:"primary"},on:{click:t.addNotice}},[t._v(t._s(t.btnMsg))])],1)])]),t._v(" "),e("div",{staticClass:"zmiti-trip-content",style:{maxHeight:t.mobileH+"px"}},[e("div",{staticClass:"zmiti-trip-mobile"},[e("div",{staticClass:"zmiti-editor-phone",staticStyle:{width:"240px",height:"500px"}},[e("img",{attrs:{src:t.imgs.mobileSkin}})]),t._v(" "),e("div",{staticClass:"zmiti-editor-header",staticStyle:{height:"350px"}},[e("img",{staticClass:"wxHeader",attrs:{src:t.imgs.wxHeader}}),t._v(" "),e("div",{staticClass:"zmiti-editor-m-c"},[e("div",{domProps:{innerHTML:t._s(t.formObj.notice)}})])])]),t._v(" "),e("div",{staticClass:"zmiti-tripnotice-editor"},[e("UE",{attrs:{"default-msg":t.formObj.notice,id:"editor",config:t.editorOption},on:{contentChanged:t.contentChange}})],1)])])};p._withStripped=!0;var u=!1;var h=function(t){u||e(259)},f=Object(d.a)(l,p,[],!1,h,"data-v-54684b18",null);f.options.__file="components\\tripexpence\\tripnotice\\index.vue";i.default=f.exports}}]);