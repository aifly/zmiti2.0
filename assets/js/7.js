(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{125:function(i,t,e){"use strict";e.r(t);var a=e(0),n=e(6),{companyActions:s,zmitiActions:r,changYueAcions:o}=(e(5),a.a),m={props:["obserable"],name:"zmitiindex",data(){return{targetKeys:[],showAvatarModal:!1,companyname:"",roleList:[],imgs:window.imgs,isLoading:!1,showDetail:!1,showDetailPage:-1,currentClassId:-1,adminuserId:"",loading:!0,currentUserid:"",formUser:{isover:0,usersign:1,usertypesign:1,avatar:"&#xe6a4;"},address:"",showPass:!1,showMap:!1,viewH:window.innerHeight,viewW:window.innerWidth,dataSource:[],groupList:[],companyList:[],hideMenu:!1,unJoinedCompany:[],columns:[{title:"稿件编号",key:"manuscriptid",align:"center"},{title:"稿件标题",key:"doctitle",align:"center"},{title:"提交时间",key:"createtime",align:"center"},{title:"审核人",key:"status",render:(i,t)=>i("div",(t.row.checkuserlist||[]).map((t,e)=>i("span",{style:{marginRight:"5px"}},t.realname)))},{title:"操作",key:"action",align:"center",width:200,render:(i,t)=>i("div",[i("span",{props:{type:"primary",size:"small"},style:{margin:"2px 10px",border:"none",fontSize:"12px",cursor:"pointer",color:"#06C"},on:{click:()=>{var i=this;i.showDetail=!0,i.formUser=t.row,i.showDetailPage=1}}},"编辑"),i("Poptip",{props:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":()=>{this.delete(t.row.userid)}}},[i("span",{props:{type:"error",size:"small"},style:{cursor:"pointer",color:"#06C"},on:{click:()=>{}}},"删除")])])}],formUser:{pdfurl:"",longitude:"116.585856",latitude:"40.364989"},directoryList:{},condition:{page_index:0,page_size:10},userinfo:{}}},components:{ZmitiMask:n.a},beforeCreate(){},mounted(){window.s=this;var i=this,{condition:t}=this;t=Object.assign(t,{companyid:a.a.getCurrentCompanyId()}),a.a.ajax({remark:"getMySubmitList",data:{action:o.getMySubmitList.action,condition:t},success(t){i.loading=!1,0===t.getret&&(i.dataSource=t.list)}})},watch:{showDetail(i){i?this.showDetailPage=1:setTimeout(()=>{this.showDetailPage=-1},310)},$route:{deep:!0,handler(){this.getDataList()}}},methods:{closeMaskPage(){this.showDetailPage=-1},handleChange2(i,t,e){var n=this;e.forEach((i,e)=>{a.a.adminAjax({remark:"left"===t?"exitCompany":"joinCompany",data:{action:s["left"===t?"exitCompany":"joinCompany"].action,userid:n.currentUserid,companyid:i},success(i){n.$Message[0===i.getret?"success":"error"](i.msg),n.getJoinedCompany()}})})},filterMethod:(i,t)=>i.label.indexOf(t)>-1,getJoinedCompany(){var i=this;a.a.adminAjax({remark:"getJoinedCompany",data:{action:s.getJoinedCompany.action,condition:{userid:i.currentUserid,page_index:0,page_size:20}},success(t){0===t.getret&&(i.targetKeys=[],t.list.forEach(t=>{i.targetKeys.push(t.companyid)}))}})},getCompanyList(){var i=this;a.a.adminAjax({remark:"getCompanyList",data:{action:s.getCompanyList.action,condition:{page_index:0,page_size:100}},success(t){0===t.getret&&(i.companyList=t.list,i.unJoinedCompany=[],i.companyList.forEach(t=>{t.companyid===i.$route.params.companyid&&(i.companyname=t.companyname),i.unJoinedCompany.push({key:t.companyid,label:t.companyname,description:t.companyname})}),console.log(i.companyList))}})},checkUser(){var i=this.formUser.username,{$Message:t}=this;a.a.adminAjax({remark:"checkUserName",data:{action:r.checkUserName.action,username:i},success(i){t[0===i.getret?i.used?"error":"success":"error"](i.msg)}})},getAvatar(i){this.formUser.avatar=i},initPassword(){var{$Message:i}=this;a.a.adminAjax({data:{action:s.modifyAdminPassword.action,adminuserid:this.formUser.adminuserid,adminpwd:window.config.defaultPass},success(t){i[0===t.getret?"success":"error"](t.msg),t.getret}})},addAdmin(){this.showDetail=!0,this.adminuserId="",this.formUser={isover:0,avatar:"&#xe6a4;"},this.showDetailPage=1},delete(i){var t=this;a.a.adminAjax({remark:"delUser",data:{action:s.delUser.action,userid:i},success(i){t.$Message[0===i.getret?"success":"error"](i.msg),0===i.getret&&t.getDataList()}})},getDataList(){var i=this;if("function"==typeof window.Promise){var t=this.$route.params.companyid;this.condition.companyid=t;new Promise((e,n)=>{a.a.adminAjax({remark:t?"getUserListByCompanyId":"getUserList",data:{action:s[t?"getUserListByCompanyId":"getUserList"].action,condition:this.condition},success(t){0===t.getret&&(i.dataSource=t.list,e())}})})}else console.log("当前浏览器不支持Promise")},adminAction(){var i=this,t=this.formUser.userid?s.editUser.action:s.addUser.action,e=this.$route.params.companyid;e&&(this.formUser.companyid=e),a.a.adminAjax({remark:this.formUser.userid?"editUser":"addUser",data:{action:t,info:this.formUser},success(t){i.$Message[0===t.getret?"success":"error"](t.msg),0===t.getret&&(i.showDetail=!1,i.getDataList())}})}}},d=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"zmiti-user-main-ui"},[e("div",{staticClass:"zmiti-list-main"},[e("header",{staticClass:"zmiti-tab-header"},[e("div",[i.companyname?e("span",[i._v(i._s(i.companyname)+" —— ")]):i._e(),i._v("畅阅")]),i._v(" "),e("div")]),i._v(" "),i._m(0),i._v(" "),e("div",{staticClass:"zmiti-user-main zmiti-scroll ",style:{height:i.viewH-180+"px"}},[e("div",{staticClass:"zmiti-user-table",class:{active:i.showDetail}},[e("Table",{attrs:{loading:i.loading,data:i.dataSource,columns:i.columns}})],1)]),i._v(" "),(i.showDetail,i._e())]),i._v(" "),e("ZmitiMask",{on:{closeMaskPage:i.closeMaskPage},model:{value:i.showDetailPage,callback:function(t){i.showDetailPage=t},expression:"showDetailPage"}},[e("div",{attrs:{slot:"mask-content",name:"detail"},slot:"mask-content"},[i.showDetail?e("section",{staticClass:"zmiti-add-form zmiti-scroll"},[e("header",{staticClass:"zmiti-add-header"},[e("img",{attrs:{src:i.imgs.back,alt:""},on:{click:function(t){i.showDetail=!1}}}),i._v(" "),e("span",[i._v("基础信息")])]),i._v(" "),e("div",{staticClass:"zmiti-user-avatar",on:{click:function(t){i.showAvatarModal=!0}}},[e("span",{staticClass:"zmt_iconfont",domProps:{innerHTML:i._s(i.formUser.avatar)}}),i._v(" "),e("label",[i._v("更换头像")])]),i._v(" "),e("Form",{staticClass:"zmiti-add-form-C",attrs:{model:i.formUser,"label-width":120}},[e("FormItem",{attrs:{label:"用户名："}},[e("Input",{attrs:{placeholder:"用户名："},on:{"on-blur":i.checkUser},model:{value:i.formUser.username,callback:function(t){i.$set(i.formUser,"username",t)},expression:"formUser.username"}})],1),i._v(" "),e("FormItem",{attrs:{label:"姓名："}},[e("Input",{attrs:{placeholder:"姓名："},model:{value:i.formUser.realname,callback:function(t){i.$set(i.formUser,"realname",t)},expression:"formUser.realname"}})],1),i._v(" "),e("FormItem",{attrs:{label:"密码："}},[e("Input",{attrs:{type:"password",placeholder:"密码："},model:{value:i.formUser.userpwd,callback:function(t){i.$set(i.formUser,"userpwd",t)},expression:"formUser.userpwd"}})],1),i._v(" "),i.$route.params.companyid?i._e():e("FormItem",{attrs:{label:"所在单位："}},[e("Select",{model:{value:i.formUser.companyid,callback:function(t){i.$set(i.formUser,"companyid",t)},expression:"formUser.companyid"}},i._l(i.companyList,function(t){return e("Option",{key:t.companyid,attrs:{value:t.companyid}},[i._v(i._s(t.companyname))])}),1)],1),i._v(" "),e("FormItem",{attrs:{label:"邮箱："}},[e("Input",{attrs:{placeholder:"邮箱："},model:{value:i.formUser.useremail,callback:function(t){i.$set(i.formUser,"useremail",t)},expression:"formUser.useremail"}})],1),i._v(" "),e("FormItem",{attrs:{label:"手机号："}},[e("Input",{attrs:{placeholder:"手机号："},model:{value:i.formUser.usermobile,callback:function(t){i.$set(i.formUser,"usermobile",t)},expression:"formUser.usermobile"}})],1),i._v(" "),e("FormItem",{attrs:{label:"用户类型："}},[e("RadioGroup",{model:{value:i.formUser.usertypesign,callback:function(t){i.$set(i.formUser,"usertypesign",t)},expression:"formUser.usertypesign"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("普通用户")]),i._v(" "),e("Radio",{attrs:{value:2,label:2}},[i._v("公司管理员")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"状态："}},[e("RadioGroup",{model:{value:i.formUser.isover,callback:function(t){i.$set(i.formUser,"isover",t)},expression:"formUser.isover"}},[e("Radio",{attrs:{value:0,label:0}},[i._v("禁用")]),i._v(" "),e("Radio",{attrs:{value:1,label:1}},[i._v("正常使用")])],1)],1),i._v(" "),e("FormItem",{attrs:{label:"用户归属："}},[e("RadioGroup",{model:{value:i.formUser.usersign,callback:function(t){i.$set(i.formUser,"usersign",t)},expression:"formUser.usersign"}},[e("Radio",{attrs:{value:1,label:1}},[i._v("本地")]),i._v(" "),e("Radio",{attrs:{value:2,label:2}},[i._v("微信")]),i._v(" "),e("Radio",{attrs:{value:3,label:3}},[i._v("QQ")])],1)],1)],1),i._v(" "),e("div",{staticClass:"zmiti-add-form-item zmiti-add-btns"},[e("Button",{attrs:{size:"large",type:"primary"},on:{click:i.adminAction}},[i._v(i._s(i.formUser.userid?"保存":"确定"))])],1),i._v(" "),(i.formUser.userid,i._e())],2):i._e()])])],1)};d._withStripped=!0;var l=e(1),c=!1;var u=function(i){c||e(54)},f=Object(l.a)(m,d,[function(){var i=this.$createElement,t=this._self._c||i;return t("section",{staticClass:"zmiti-list-where"},[this._v("\n\t\t\t用户编号 "),t("input",{attrs:{type:"text"}})])}],!1,u,"data-v-11022ff6",null);f.options.__file="components\\changyuemysubmit\\index.vue";t.default=f.exports},33:function(i,t,e){var a=e(34);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);(0,e(4).default)("61f6dc8c",a,!1,{})},34:function(i,t,e){(i.exports=e(2)()).push([i.i,"/*.ant-btn:focus, .ant-btn:hover,.ant-input:focus, .ant-input:hover {\r\n    background-color: #fff;\r\n    border-color: #bf1616;\r\n    box-shadow: 0 0 0 2px rgba(191, 22, 22, 0.1);\r\n}*/\n.zmiti-mask-ui[data-v-bc775556] {\n  position: fixed;\n  z-index: 1002;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  left: 0;\n  top: 0;\n}\n.zmiti-mask-ui .zmiti-mask-right[data-v-bc775556] {\n    position: absolute;\n    background: #fff;\n    top: 50px;\n    right: 0;\n    overflow: auto;\n    z-index: 10;\n}\n.zmiti-mask-ui .zmiti-mask-right.right-enter-active[data-v-bc775556], .zmiti-mask-ui .zmiti-mask-right.right-leave-active[data-v-bc775556] {\n      -webkit-transition: 0.2s;\n      transition: 0.2s;\n}\n.zmiti-mask-ui .zmiti-mask-right.right-leave-to[data-v-bc775556], .zmiti-mask-ui .zmiti-mask-right.right-enter[data-v-bc775556] {\n      -webkit-transform: translate3d(600px, 0, 0);\n      transform: translate3d(600px, 0, 0);\n}\n.zmiti-mask-ui .lt-full[data-v-bc775556] {\n    z-index: 8;\n    height: 100%;\n}\n",""])},5:function(i,t,e){"use strict";e.d(t,"e",function(){return a}),e.d(t,"d",function(){return n}),e.d(t,"a",function(){return r}),e.d(t,"b",function(){return o}),e.d(t,"c",function(){return m});var a={0:"财务类",1:"会员账号",2:"定制服务类",3:"产品技术类",4:"其它类"};let n={0:{status:"已禁用"},1:{status:"已受理"},2:{status:"已处理"},3:{status:"已确认"},4:{status:"已评价"}},s=[{name:"全部",type:-1},{name:"图片",type:0},{name:"视频",type:1},{name:"音频",type:2},{name:"文件",type:3}],r=(i=3)=>[{name:"系统",icon:"&#xe611;",id:1},{name:"单位",icon:"&#xe612;",id:2},{name:"个人",icon:"&#xe613;",id:i,cateList:s.concat([])}],o={pdf:"&#xe665;",xls:"&#xe614;",xlsx:"&#xe614;",mp3:"&#xe7df;",ogg:"&#xe7df;",m4a:"&#xe7df;",doc:"&#xe63c;",docx:"&#xe63c;",mp4:"&#xe601;",webm:"&#xe601;",mov:"&#xe601;",flv:"&#xe601;",other:"&#xe606;"},m=["待审核","审核通过","拒绝","暂缓"]},54:function(i,t,e){var a=e(55);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);(0,e(4).default)("51a92bd7",a,!1,{})},55:function(i,t,e){(i.exports=e(2)()).push([i.i,'/*.ant-btn:focus, .ant-btn:hover,.ant-input:focus, .ant-input:hover {\r\n    background-color: #fff;\r\n    border-color: #bf1616;\r\n    box-shadow: 0 0 0 2px rgba(191, 22, 22, 0.1);\r\n}*/\n.zmiti-user-main-ui[data-v-11022ff6] {\n  background: #f2f2f2;\n  box-sizing: border-box;\n  height: 100%;\n  width: 99%;\n  margin: 0 auto;\n}\n.zmiti-user-main-ui .zmiti-avatar-list[data-v-11022ff6] {\n    display: flex;\n    display: -webkit-flex;\n    flex-flow: row;\n}\n.zmiti-user-main-ui .zmiti-avatar-list span[data-v-11022ff6] {\n      font-size: 40px;\n      margin-right: 20px;\n      cursor: pointer;\n}\n.zmiti-user-main-ui .zmiti-avatar-list span.active[data-v-11022ff6] {\n        color: #3390ff;\n}\n.zmiti-user-main-ui .ivu-table-wrapper[data-v-11022ff6] {\n    border-bottom: none;\n    border-right: none;\n}\n.zmiti-user-main-ui .zmiti-list-main[data-v-11022ff6] {\n    box-sizing: border-box;\n    background: #fff;\n    margin: 0 auto;\n    flex: 2;\n    -webkit-flex: 2;\n    position: relative;\n    top: 5px;\n    display: flex;\n    display: -webkit-flex;\n    flex-flow: column;\n}\n.zmiti-user-main-ui .zmiti-list-main[data-v-11022ff6]:before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      box-shadow: 0 0 0 1px #ccc;\n}\n.zmiti-user-main-ui .zmiti-list-main .zmiti-add-form-close[data-v-11022ff6] {\n      z-index: 100;\n}\n.zmiti-user-main-ui .zmiti-list-main > div[data-v-11022ff6] {\n      margin: 10px auto 10px;\n      position: relative;\n      flex: 1;\n      -webkit-flex: 1;\n}\n.zmiti-user-main-ui .zmiti-list-main > div .zmiti-meet-form[data-v-11022ff6] {\n        width: 100%;\n        margin: 0px auto;\n        padding: 20px 40px;\n        height: 600px;\n        overflow: auto;\n}\n.zmiti-user-main-ui .zmiti-list-main .zmiti-list-where[data-v-11022ff6] {\n      width: 98%;\n      margin: 10px auto 0;\n      height: 40px;\n      line-height: 40px;\n      font-size: 14px;\n      position: relative;\n      z-index: 10;\n}\n.zmiti-user-main-ui .zmiti-list-main .zmiti-list-where input[data-v-11022ff6] {\n        height: 30px;\n}\n.zmiti-user-main-ui .zmiti-list-main .zmiti-user-main[data-v-11022ff6] {\n      flex: 5;\n      -webkit-flex: 5;\n      width: 100%;\n}\n.zmiti-user-main-ui .zmiti-list-main .zmiti-user-main > div[data-v-11022ff6] {\n        -webkit-transition: 0.3s;\n        transition: 0.3s;\n}\n.zmiti-user-main-ui .zmiti-list-main .zmiti-user-main .zmiti-user-table[data-v-11022ff6] {\n        width: 98%;\n        margin: 0 auto;\n}\n.zmiti-user-main-ui .lt-full[data-v-11022ff6] {\n    position: fixed !important;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 1001;\n    overflow: hidden;\n}\n.zmiti-user-main-ui .lt-full .zmiti-left-pannel[data-v-11022ff6] {\n      position: absolute;\n      width: 100%;\n      height: 100px;\n      left: 0;\n      top: 0;\n      z-index: 10;\n}\n.zmiti-user-main-ui .zmiti-add-form[data-v-11022ff6] {\n    flex: 1;\n    -webkit-flex: 1;\n    width: 500px;\n    overflow: auto;\n    position: absolute !important;\n    top: 0;\n    right: 0;\n    z-index: 100;\n    height: 100%;\n    position: relative;\n    box-shadow: 0 0 0 1px #ccc;\n    box-sizing: border-box;\n    background: #f9f9f9;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-safe-content[data-v-11022ff6] {\n      display: flex;\n      display: -webkit-flex;\n      flex-flow: row;\n      -webkit-align-items: center;\n      align-items: center;\n      margin-top: 30px;\n      justify-content: space-around;\n      -webkit-justify-content: space-around;\n      border: 1px dashed #ccc;\n      padding: 10px 0;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-safe-content > div[data-v-11022ff6]:nth-of-type(1) {\n        text-align: center;\n        width: 120px;\n        font-weight: bold;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-safe-content > div[data-v-11022ff6]:nth-of-type(2) {\n        flex: 1;\n        -webkit-flex: 1;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-safe-content > div[data-v-11022ff6]:nth-of-type(3) {\n        width: 80px;\n        cursor: pointer;\n        text-align: center;\n        color: #0066cc;\n}\n.zmiti-user-main-ui .zmiti-add-form.detail-enter-active[data-v-11022ff6], .zmiti-user-main-ui .zmiti-add-form.detail-leave-active[data-v-11022ff6] {\n      -webkit-transition: 0.2s;\n      transition: 0.2s;\n}\n.zmiti-user-main-ui .zmiti-add-form.detail-enter[data-v-11022ff6], .zmiti-user-main-ui .zmiti-add-form.detail-leave-to[data-v-11022ff6] {\n      -webkit-transform: translateX(100%);\n      transform: translateX(100%);\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-user-avatar[data-v-11022ff6] {\n      background: rgba(51, 144, 255, 0.1);\n      border-radius: 50%;\n      text-align: center;\n      width: 80px;\n      height: 80px;\n      line-height: 80px;\n      margin: 0 auto 30px;\n      cursor: pointer;\n      position: relative;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-user-avatar label[data-v-11022ff6] {\n        position: absolute;\n        bottom: -50px;\n        font-size: 12px;\n        width: 100%;\n        text-align: center;\n        left: 0;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-user-avatar span[data-v-11022ff6] {\n        font-size: 40px;\n        color: rgba(51, 144, 255, 0.8);\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-add-form-C[data-v-11022ff6] {\n      margin: 10px auto 2px;\n      width: 90%;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-add-form-item[data-v-11022ff6] {\n      line-height: 50px;\n      height: 50px;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns[data-v-11022ff6] {\n        text-align: center;\n        position: relative;\n        z-index: 10;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-add-form-item.zmiti-add-btns button[data-v-11022ff6] {\n          margin: 0 20px;\n          padding: 2px 20px;\n}\n.zmiti-user-main-ui .zmiti-add-form .zmiti-add-form-item input[data-v-11022ff6] {\n        padding-left: 6px;\n        height: 32px;\n        width: 70%;\n        border: 1px solid #d8d8d8;\n        outline: none;\n}\n.ivu-icon-ios-help-circle[data-v-11022ff6] {\n  left: 25px;\n}\n.ivu-radio-inner[data-v-11022ff6]:after {\n  border-radius: 10px !important;\n}\n',""])},6:function(i,t,e){"use strict";var a={props:{value:{type:Number,default:function(){return-1}},width:{type:Number,default:function(){return 500}}},watch:{value(i){this.showPannel=i>-1}},data:()=>({viewH:window.innerHeight,showPannel:!0}),methods:{hidePannel(){this.showPannel=!1},afterLeave(){this.$emit("input",!1),this.$emit("closeMaskPage")}},mounted(){}},n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return i.value>-1?e("div",{staticClass:"zmiti-mask-ui lt-full"},[e("transition",{attrs:{name:"right"},on:{"after-leave":i.afterLeave}},[i.showPannel?e("div",{staticClass:"zmiti-mask-right zmiti-scroll",style:{height:i.viewH-50+"px",width:i.width+"px"}},[i._t("mask-content")],2):i._e()]),i._v(" "),e("div",{staticClass:"lt-full",on:{click:i.hidePannel}})],1):i._e()};n._withStripped=!0;var s=e(1),r=!1;var o=function(i){r||e(33)},m=Object(s.a)(a,n,[],!1,o,"data-v-bc775556",null);m.options.__file="common\\mask\\index.vue";t.a=m.exports}}]);