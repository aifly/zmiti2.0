(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{617:function(t,i,n){var a=n(618);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(6).default)("5ad5a75c",a,!1,{})},618:function(t,i,n){(t.exports=n(4)()).push([t.i,"\n.zmiti-company-detail-main-ui[data-v-864eca68]{background:#fff;box-sizing:border-box;height:99%;width:99%;margin:.25% auto\n}\n.zmiti-company-detail-main-ui .zmiti-company-header[data-v-864eca68]{font-size:30px;text-indent:1em;padding-top:10px\n}\n.zmiti-companyuser-list[data-v-864eca68]{display:flex;display:-webkit-flex;flex-flow:row;flex-wrap:wrap\n}\n.zmiti-companyuser-list li[data-v-864eca68]{margin:10px;width:100px;height:30px;text-align:center;line-height:30px;background:#ddd;padding:0 10px;cursor:pointer;-webkit-transition:.2s;transition:.2s\n}\n.zmiti-companyuser-list li.active[data-v-864eca68]{background:#3390ff;color:#fff\n}\n.zmiti-companyuser-list li[data-v-864eca68]:hover{background:#3390ff;color:#fff\n}\n.zmiti-company-detail-main-ui .zmiti-company-logo-C[data-v-864eca68]{width:100px;height:200px;margin:0 auto;text-align:center\n}\n.zmiti-company-detail-main-ui .zmiti-company-logo[data-v-864eca68]{width:100px;height:100px;background:rgba(51,144,255,0.1);border-radius:50%;margin:20px auto;overflow:hidden;display:flex;display:-webkit-flex;flex-flow:row;align-items:center\n}\n.zmiti-company-detail-main-ui .zmiti-company-logo img[data-v-864eca68]{display:block;width:100%\n}\n.zmiti-company-detail-main-ui .zmiti-company-item[data-v-864eca68]{width:90%;margin:20px auto;display:flex;display:-webkit-flex;flex-flow:row;justify-content:space-between;-webkit-justify-content:space-between\n}\n.zmiti-company-detail-main-ui .zmiti-company-item>div[data-v-864eca68]{font-size:14px;line-height:40px;position:relative\n}\n.zmiti-company-detail-main-ui .zmiti-company-item>div[data-v-864eca68]:nth-of-type(1){width:100px;text-align:right\n}\n.zmiti-company-detail-main-ui .zmiti-company-item>div[data-v-864eca68]:nth-of-type(2){flex:1;-webkit-flex:1;border-bottom:1px solid #ccc;line-height:40px;font-size:16px\n}\n.zmiti-company-detail-main-ui .zmiti-company-item>div span[data-v-864eca68]{position:absolute;right:0;cursor:pointer;margin-right:10px;font-size:14px\n}\n.zmiti-company-detail-main-ui .zmiti-company-item>div span i[data-v-864eca68]{font-size:20px;vertical-align:middle;margin-top:-5px\n}\n.zmiti-company-detail-main-ui .zmiti-company-file[data-v-864eca68]{display:flex;display:-webkit-flex;flex-flow:row;width:50%;margin:20px 30px;-webkit-justify-content:space-around;justify-content:space-around;text-align:center\n}\n.zmiti-company-detail-main-ui .zmiti-company-img[data-v-864eca68]{width:100px;height:160px;overflow:hidden;margin-bottom:5px;background-color:#f2f2f2 !important;cursor:pointer;display:flex;display:-webkit-flex;flex-flow:row;-webkit-align-items:flex-end;align-items:flex-end;position:relative\n}\n.zmiti-company-detail-main-ui .zmiti-company-img span[data-v-864eca68]{position:absolute;left:50%;color:#ccc;top:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);font-size:30px\n}\n",""])},761:function(t,i,n){"use strict";n.r(i);var a=n(2),e=n(64),{userActions:o}=a.a,c={props:["obserable"],name:"zmitiindex",data:()=>({imgs:window.imgs,showuser:!1,userinfo:{},showResource:!1,visiable:!1,key:"",imgType:"",userList:[],currentChooseResource:{},companyInfo:{},currentUser:{},condition:{page_index:0,page_size:20}}),components:{ResourceList:e.a},beforeCreate(){},mounted(){window.s=this,this.getDetail(),this.getUserList()},watch:{},methods:{changeAdmin(){var t=this;a.a.ajax({remark:"changeAdmin",data:{action:o.changeAdmin.action,to_user_id:t.currentUser.user.userid,companyid:a.a.getCurrentCompanyId().companyid},error(){},success(i){t.$Message[0===i.getret?"success":"error"](i.msg),0===i.getret&&t.$router.push({path:"/login"})}})},chooseUser(t){this.currentUser=t},getUserList(){var t=this,{condition:i}=this;i=Object.assign(i,{companyid:a.a.getCurrentCompanyId().companyid}),a.a.ajax({remark:"getCompanyUserList",data:{action:o.getCompanyUserList.action,condition:i},error(){},success(i){0===i.getret&&(t.total=i.total,t.userList=i.list)}})},showEditDialog(t){this.key=t,this.visiable=!0},chooseImg(){this.showResource=!1,this.companyInfo[this.imgType]=this.currentChooseResource.custombilethum[0],this.modifyCompanyInfo(this.companyInfo)},modifyCompanyInfo(t){var i=this,n=Object.assign(t,{companyid:a.a.getCurrentCompanyId().companyid});a.a.ajax({remark:"editCompanyInfo",data:{action:o.editCompanyInfo.action,info:n},success(t){i.$Message[0===t.getret?"success":"error"](t.msg)}})},onFinished(t){this.currentChooseResource=t},getDetail(){a.a.ajax({remark:"getCompanyInfo",data:{action:o.getCompanyInfo.action,companyid:a.a.getCurrentCompanyId().companyid},success(t){0===t.getret&&(s.companyInfo=t.info)}})}}},r=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"zmiti-company-detail-main-ui"},[n("div",{staticClass:"zmiti-company-header"},[t._v("\n\t\t\t"+t._s(t.companyInfo.companyname)+"\n\t\t")]),t._v(" "),n("div",{staticClass:"zmiti-company-logo-C"},[n("div",{staticClass:"zmiti-company-logo"},[t.companyInfo.logourl?n("img",{attrs:{src:t.companyInfo.logourl,alt:""}}):t._e()]),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(i){t.showResource=!0,t.imgType="logourl"}}},[t._v("更换logo")])],1),t._v(" "),n("div",{staticClass:"zmiti-company-item"},[n("div",[t._v("单位名称：")]),t._v(" "),n("div",[t._v("\n\t\t\t\t"+t._s(t.companyInfo.companyname)+"\n\t\t\t\t"),n("span",[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)])]),t._v(" "),n("div",{staticClass:"zmiti-company-item"},[n("div",[t._v("单位编号：")]),t._v(" "),n("div",[n("label",{attrs:{for:""}},[t._v("\n\t\t\t\t \t"+t._s(t.companyInfo.companycode)+"\n\t\t\t\t ")]),t._v(" "),n("span",[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)])]),t._v(" "),n("div",{staticClass:"zmiti-company-item"},[n("div",[t._v("单位电话：")]),t._v(" "),n("div",[n("label",{attrs:{for:""}},[t._v("\n\t\t\t\t \t"+t._s(t.companyInfo.companyphone)+"\n\t\t\t\t ")]),t._v(" "),n("span",{on:{click:function(i){return t.showEditDialog("companyphone")}}},[t._v("修改"),n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)])]),t._v(" "),n("div",{staticClass:"zmiti-company-item"},[n("div",[t._v("单位地址：")]),t._v(" "),n("div",[n("label",{attrs:{for:""}},[t._v("\n\t\t\t\t \t"+t._s(t.companyInfo.companyaddress)+"\n\t\t\t\t ")]),t._v(" "),n("span",{on:{click:function(i){return t.showEditDialog("companyaddress")}}},[t._v("修改"),n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)])]),t._v(" "),n("div",{staticClass:"zmiti-company-item"},[n("div",[t._v("是否开启认证：")]),t._v(" "),n("div",[n("label",{attrs:{for:""}},[n("RadioGroup",{on:{"on-change":function(i){return t.modifyCompanyInfo(t.companyInfo)}},model:{value:t.companyInfo.is_auth,callback:function(i){t.$set(t.companyInfo,"is_auth",i)},expression:"companyInfo.is_auth"}},[n("Radio",{attrs:{value:1,label:1}},[t._v("开启认证")]),t._v(" "),n("Radio",{attrs:{value:0,label:0}},[t._v("关闭认证")])],1)],1),t._v(" "),n("span",[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)])]),t._v(" "),n("div",{staticClass:"zmiti-company-item"},[n("div",[t._v("转让管理员：")]),t._v(" "),n("div",[n("Button",{attrs:{type:"primary"},on:{click:function(i){t.showuser=!0}}},[t._v("选择人员")])],1)]),t._v(" "),n("div",{staticClass:"zmiti-company-file"},[n("div",[n("div",[t._v("单位营业执照")]),t._v(" "),n("div",{staticClass:"zmiti-company-img",style:{background:t.companyInfo.businesslicensepath?"url("+t.companyInfo.businesslicensepath+") no-repeat center center":"none",backgroundSize:"cover"},on:{click:function(i){t.showResource=!0,t.imgType="businesslicensepath"}}},[t.companyInfo.businesslicensepath?n("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:t.companyInfo.businesslicensepath,alt:""}}):n("span",[t._v("暂无")])])]),t._v(" "),n("div",[n("div",[t._v("\n\t\t\t\t\t单位合同扫描件\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"zmiti-company-img",style:{background:t.companyInfo.contract?"url("+t.companyInfo.contract+") no-repeat center center":"none",backgroundSize:"cover"},on:{click:function(i){t.showResource=!0,t.imgType="contract"}}},[t.companyInfo.contract?n("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:t.companyInfo.contract,alt:""}}):n("span",[t._v("暂无")])])])]),t._v(" "),n("Modal",{attrs:{title:"资料库",width:"800"},model:{value:t.showResource,callback:function(i){t.showResource=i},expression:"showResource"}},[t.showResource?n("ResourceList",{attrs:{isAdmin:!1,isDialog:!0},on:{onFinished:t.onFinished}}):t._e(),t._v(" "),n("div",{staticClass:"zmiti-resourcelist-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{staticStyle:{width:"100px"},on:{click:function(i){t.showResource=!1}}},[t._v("取消")]),t._v(" "),n("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.chooseImg}},[t._v("确定")])],1)],1),t._v(" "),n("Modal",{attrs:{title:"修改单位信息"},on:{"on-ok":function(i){return t.modifyCompanyInfo(t.companyInfo)}},model:{value:t.visiable,callback:function(i){t.visiable=i},expression:"visiable"}},["companyphone"===t.key?n("Input",{model:{value:t.companyInfo.companyphone,callback:function(i){t.$set(t.companyInfo,"companyphone",i)},expression:"companyInfo.companyphone"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("单位电话：")])]):t._e(),t._v(" "),"companyaddress"===t.key?n("Input",{model:{value:t.companyInfo.companyaddress,callback:function(i){t.$set(t.companyInfo,"companyaddress",i)},expression:"companyInfo.companyaddress"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("单位地址：")])]):t._e()],1),t._v(" "),n("Modal",{attrs:{title:"转让管理员"},on:{"on-ok":t.changeAdmin},model:{value:t.showuser,callback:function(i){t.showuser=i},expression:"showuser"}},[n("ul",{staticClass:"zmiti-companyuser-list"},t._l(t.userList,(function(i,a){return n("li",{key:a,class:{active:t.currentUser.ucid===i.ucid},on:{click:function(n){return t.chooseUser(i)}}},[t._v("\n\t\t\t\t\t"+t._s(i.user.realname||i.user.username)+"\n\t\t\t\t")])})),0)])],1)};r._withStripped=!0;var m=n(3),p=!1;var l=function(t){p||n(617)},d=Object(m.a)(c,r,[],!1,l,"data-v-864eca68",null);d.options.__file="components\\companydetail\\index.vue";i.default=d.exports}}]);